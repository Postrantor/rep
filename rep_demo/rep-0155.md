---
tip: translate by openai@2023-06-08 17:09:41
...

REP: 155 Title: Conventions, Topics, Interfaces for Perception in Human-Robot Interaction Author: Séverin Lemaignan \<<severin.lemaignan@pal-robotics.com>\> Status: Draft Type: Informational Content-Type: text/x-rst Created: 11-Jan-2022

> 回复：155 标题：人机交互中的感知约定、主题和接口 作者：Séverin Lemaignan \<<severin.lemaignan@pal-robotics.com>\> 状态：草案 类型：信息内容类型：text/x-rst 创建日期：2022年1月11日

# Abstract


This REP provides a set of conventions and common interfaces for Human-Robot Interaction (HRI) scenarios, with a focus on the perception of humans and social signals. It aims at enabling interoperability and reusability of core functionality between the many HRI-related software tools, from skeleton tracking, to face recognition, to natural language processing.

> 这个REP为人机交互（HRI）场景提供了一套约定和通用接口，重点关注人类和社会信号的感知。它旨在使许多与HRI相关的软件工具之间的核心功能可以互操作和重用，从骨架跟踪到面部识别，再到自然语言处理。


Besides, these interfaces are designed to be relevant for a broad range of HRI situations, from crowd simulation, to kineastetic teaching, to social interaction.

> 此外，这些界面旨在适用于广泛的人机交互情况，从群体模拟到运动教学，再到社交互动。

Specifically, this REP covers:

- human modeling, as a combination of a permanent identity (person) and transient parts that are intermittently detected (eg face, skeleton, voice);
- topic naming conventions under the `/humans/` topic namespace;
- human kinematic modeling (based on dynamically generated URDF models), as well as 3D TF frame conventions (naming, orientation);
- representation of group interactions (groups, mutual gaze)

# Rationale


ROS is widely used in the context of human-robot interactions (HRI). However, to date, no single effort (e.g.[^2]) has been successful at coming up with broadly accepted interfaces and pipelines for that domain, as found in other parts of the ROS ecosystem (for manipulation or 2D navigation for instance). As a result, many different implementations of common tasks (skeleton tracking, face recognition, speech processing, etc) cohabit, and while they achieve similar goals, they are not generally compatible, hampering the code reusability, experiment replicability, and general sharing of knowledge.

> ROS 广泛用于人机交互（HRI）的背景下。然而，迄今为止，尚未有任何一项单一的努力（例如[^2]）能够在该领域成功地提出广泛接受的接口和管道，就像在ROS生态系统的其他部分（例如操纵或2D导航）所发现的那样。结果，许多不同的常见任务（骨架跟踪、人脸识别、语音处理等）共存，虽然它们达到了类似的目标，但它们通常不兼容，阻碍了代码可重用性、实验可复制性和知识的普遍共享。


In order to address this issue, this REP aims at structuring the whole \"ROS for HRI\" space by creating an adequate set of ROS messages and services to describe the software interactions relevant to the HRI domain, as well as a set of conventions (eg topics structure, tf frames) to expose human-related information.

> 为了解决这个问题，本REP旨在通过创建一组适当的ROS消息和服务来结构化整个“ROS for HRI”空间，以描述与HRI领域相关的软件交互，以及一组约定（例如主题结构、tf框架）来公开与人有关的信息。


The REP aims at modeling these interfaces based on existing, state-of-the-art algorithms relevant to HRI perception, while considering the broad range of application scenario in HRI.

> REP旨在基于与HRI感知相关的现有最先进的算法来建模这些接口，同时考虑HRI中广泛的应用场景。


It is hoped that such an effort will allow easier collaboration between projects and allow a reduction in duplicate efforts to implement the same functionality.

> 希望这样的努力将使项目之间的合作更容易，并减少实现相同功能的重复努力。

# Overview

This REP specifies multiple aspects of human-robot interaction, with a primary focus on human perception/social signal recognition.

It is split into 4 sections:


1. human representation, as a combination of a permanent identity (*person*) and transient parts that are intermittently detected (e.g. *face*, *skeleton*, *voice*);

> 人的表示，作为一个永久身份（人）和不断被检测到的瞬态部分（例如面部、骨骼、声音）的组合。
2. topic naming conventions under the `/humans/` topic namespace;
3. kinematic model of the human and 3D tf frame conventions (naming, orientation, compatible with REP-120[^3] where possible)
4. representation of group interactions (groups, mutual gaze)


By following the naming conventions and leveraging the interfaces defined in this REP, both tools and libraries can be designed to be reusable between different frameworks and experiments.

> 通过遵循命名约定并利用本 REP 中定义的接口，可以设计出可在不同框架和实验之间重用的工具和库。

::: note
::: title
Note
:::


Importantly, the REP does not mandate specific tools or algorithms to perform human perception/social signal recognition per se. It only specify naming conventions and interfaces between these nodes.

> 重要的是，REP并不强制使用特定的工具或算法来执行人类感知/社交信号识别。它只指定这些节点之间的命名约定和接口。
:::


The use of capitalized words such as MUST, SHOULD, MAY must be understood as specified in the IETF RFC2119 \'Key words for use in RFCs to Indicate Requirement Levels\'[^4].

> 使用大写字母单词，如MUST、SHOULD和MAY，必须按照IETF RFC2119“用于RFC中表示要求级别的关键字”[^4]中的规定理解。

# Human Representation


To accommodate existing tools and techniques used to detect and recognise humans, the representation of a person is built on a combination of 4 unique identifiers (UUIDs): a **person identifier**, a **face identifier**, a **body identifier** and a **voice identifier**. Future revisions of this REP might add additional identifiers.

> 为了适应现有用于检测和识别人类的工具和技术，一个人的表示是基于4个唯一标识符（UUID）的组合构建的：一个**人员标识符**，一个**面部标识符**，一个**身体标识符**和一个**语音标识符**。未来对此REP的修订可能会增加其他标识符。


These four identifiers are not mutually exclusive, and depending on the requirements of the application, the available sensing capabilities, and the position/behaviour of the humans, only some might be available for a given person, at a given time.

> 这四个标识符不是互相排斥的，根据应用程序的要求、可用的感知能力以及人类的位置/行为，对于某个人在某个时间可能只有其中一些可用。

## Person Identifier


The **person identifier** MUST be a unique ID (typically, a UUID) permanently associated with a unique person. This person ID is normally assigned by a node able to perform person identification (face recognition node, voice recognition node, sound source localisation + name, identification based on physical features like height/age/gender, person identification based on pre-defined features like the colour of the clothes, etc.) This ID is meant to be **persistent** so that the robot can recognize people across encounters/sessions. Nodes providing person IDs MAY serialise these IDs to a permanent storage, for them to persist across robot reboots.

> 该**人员识别码**必须是一个唯一的ID（通常是一个UUID）与唯一的人永久关联。这个人ID通常是由能够执行人员识别的节点（面部识别节点、语音识别节点、声源定位+名称、基于身高/年龄/性别等物理特征的人员识别、基于预定义特征的人员识别，如衣服的颜色等）分配的。这个ID旨在是**持久的**，以便机器人可以跨遇见/会话识别人。提供人ID的节点可以将这些ID序列化到永久存储，以便在机器人重新启动时持久保留它们。


When meaningful (see section [Person frame](#person-frame)), a TF frame MUST be associated to the person ID and named `person_<personID>`. Due to the importance of the head in human-robot interaction, the `person_<personID>` frame is expected to be placed as close as possible to the head of the human. If neither the face nor the skeleton are tracked, the `person_<personID>` frame might be located to the last known position of the human, or removed altogether if no meaningful estimate of the human location is available. See section [Person frame](#person-frame) for details regarding the `person_<personID>` frame.

> 如果有意义（参见[Person frame](#person-frame)部分），TF框架必须与人员ID关联并命名为`person_<personID>`。由于头部在人机交互中的重要性，`person_<personID>`框架期望尽可能接近人类的头部。如果既不跟踪面部也不跟踪骨架，`person_<personID>`框架可能位于人类的最后一个已知位置，或者如果没有有意义的人类位置估计，可以完全移除。有关`person_<personID>`框架的详细信息，请参见[Person frame](#person-frame)部分。


At any given time, the list of currently-seen persons is published under the `/humans/persons/tracked` topic as `hri_msgs/IdsList` messages, and the list of all known persons (ie, persons that have been seen and recognized at least once in the past) under `/humans/persons/known`.

> 在任何时候，当前所见的人员列表都会发布在`/humans/persons/tracked`主题下，以`hri_msgs/IdsList`消息的形式，而所有已知的人员（即，在过去曾经被见过并被识别至少一次的人员）则会发布在`/humans/persons/known`主题下。

### Merging Person Identifiers


In certain cases, two person IDs must be merged (for instance, the robot detects that a voice and a face that were thought to belong to different people are indeed the same person).

> 在某些情况下，必须合并两个人员ID（例如，机器人检测到原本认为属于不同人的声音和面孔实际上是同一个人）。


In such a case, one of the person IDs is marked as an *alias* of the other person, by publishing the ID of the other person on a special subtopic named `alias`. See section [Topics structure](#topics-structure) for details.

> 在这种情况下，其中一个人的ID被标记为另一个人的别名，通过在名为“别名”的特殊子主题上发布另一个人的ID。有关详细信息，请参见[主题结构]（＃主题结构）。

::: note
::: title
Note
:::

The reverse operation (splitting a person into two) can be realised by simply publishing a second person ID.
:::

### Anonymous persons

While person IDs are generally expected to be permanent, one exception exists for persons that the robot has detected but not yet identified.


For instance, the robot hears a voice, and therefore knows that a person is around, but no voice identification nodes is available \-- or the voice identification has not yet recognised the voice. In such a case, an *anonymous person* MAY be created, ie a person who has not yet been assigned a permanent ID.

> 例如，机器人听到一个声音，因此知道有人在附近，但是没有可用的语音识别节点--或者语音识别还没有识别出声音。在这种情况下，可能会创建一个*匿名人*，即一个尚未被分配永久ID的人。

*Anonymous persons* are treated like regular persons. They however publish a latched `true` boolean on their `/anonymous` subtopic, and their ID is not guaranteed to be permanent (it can in fact change/be removed at any point).

## Face Identifier


The **face identifier** MUST be a unique ID that identifies a detected face. This ID is typically generated by the face detector/head pose estimator upon face detection.

> 面部识别器必须是一个唯一的ID，用来标识一个检测到的面部。该ID通常由面部检测器/头部姿态估计器在面部检测时生成。


Importantly, **this ID is not persistent**: once a face is lost (for instance, the person goes out of frame), its ID is not valid nor meaningful anymore. To cater for a broad range of applications (where re-identification might not be always necessary), there is no expectation that the face detector will attempt to recognise the face and re-assign the same face ID if the person reappears.

> 重要的是，**此ID不是持久的**：一旦人脸丢失（例如，人物走出画面），其ID就无效也毫无意义了。为了满足广泛的应用（其中重新识别可能并不总是必要的），人脸检测器不会尝试识别人脸并在该人重新出现时重新指定相同的人脸ID。

::: note
::: title
Note
:::

A face detector/face tracker MAY reuse the same face ID if it is confident that the face is indeed the same.
:::


There is a one-to-one relationship between this face ID and the estimated 6D pose of the head. If the node publishes a head pose estimation, the ROS TF frame MUST be named `face_<faceID>` (see section [Face and Gaze Frames](#face-and-gaze-frames) for the face frame conventions).

> 在这个面部ID和估计的6D头部姿态之间存在一对一的关系。如果节点发布头部姿态估计，ROS TF帧必须命名为`face_<faceID>`（参见[面部和注视帧](#face-and-gaze-frames)部分的面部帧约定）。

At any given time, the list of tracked faces SHOULD be published under the `/humans/faces/tracked` topic as `hri_msgs/IdsList` messages.

## Body Identifier


Similarly to the face identifier, the **body identifier** MUST be a unique ID, associated to a person's skeleton. It is normally created by a skeleton tracker upon detection of a skeleton.

> 相似于人脸识别器，**身体识别器**必须是一个唯一的ID，关联到一个人的骨架。它通常是由骨架跟踪器在检测到骨架时创建的。


Like the face ID, **the body ID is not persistent**, and is valid only as long as the specific skeleton is tracked by the skeleton tracker which initially detected it.

> 就像面部ID一样，**身体ID不是持久的**，只有在原始检测到的骨架跟踪器持续跟踪该特定骨架时才有效。


The corresponding TF frame is `body_<bodyID>`, and TF frames associated with each of the body parts of the person, MUST suffixed with the same ID (see section [Body frames](#body-frames)).

> 相应的TF框架是`body_<bodyID>`，与人的每个身体部位相关联的TF框架必须以相同的ID作为后缀（参见[身体框架]部分）。

At any given time, the list of tracked bodies SHOULD be published under the `/humans/bodies/tracked` topic as `hri_msgs/IdsList` messages.

## Voice Identifier


Likewise, a speech separation node MUST assign a unique, non-persistent, ID for each detected voice. Tracked voices SHOULD be published under the `/humans/voices/tracked` topic as `hri_msgs/IdsList` messages.

> 同样，语音分离节点必须为每个检测到的语音分配唯一的非持久性ID。跟踪的语音应在`/humans/voices/tracked`主题下发布为`hri_msgs/IdsList`消息。

## Identifier Matching


Associations between IDs (for instance to denote that a given voice belongs to a given person, or a given face to a given body) are expressed by publishing `hri_msgs/IdsMatch` messages on the `/humans/candidate_matches` topic. The `hri_msgs/IdsMatch` message MAY include a confidence level.

> 关联ID（例如表示给定的声音属于给定的人，或给定的面孔属于给定的身体）通过在`/humans/candidate_matches`主题上发布`hri_msgs/IdsMatch`消息来表达。 `hri_msgs/IdsMatch`消息可能包括一个置信水平。


A typical implementation will have several specialised nodes publishing candidate matches on `/humans/candidate_matches` (e.g. a face recognition node providing matches between faces and persons; a voice recognition node providing matches between voices and persons) and one \'person manager\' node collecting the candidates, and publishing the most likely associations between a person ID and its face/body/voice IDs under the `/humans/persons/` namespace.

> 一个典型的实现将会有几个专门的节点发布候选匹配在'/humans/candidate_matches'（例如一个面部识别节点提供面部和人的匹配；一个语音识别节点提供声音和人的匹配）和一个'人员管理'节点收集候选人，并在'/humans/persons/'命名空间下发布一个人ID和其面部/身体/声音ID之间最可能的关联。

## Identifier Syntax


Identifiers can be arbitrary, as long as they are unique. We recommend to follow standard syntaxic rules so that they are also valid indentifiers in mainstream programming languages (eg, start with a letter).

> 标识符可以是任意的，只要它们是唯一的即可。我们建议遵循标准语法规则，这样它们也可以在主流编程语言中有效地标识（例如，以字母开头）。

Note that using people's names as identifier is possible, but not generally recommended as collisions are likely.

# Common Parameters


- `/humans/faces/width` (default: 128): width in pixels of the cropped faces published under `/humans/faces/XYZ/cropped`, `/humans/faces/XYZ/aligned` and `/humans/faces/XYZ/frontalized`

> `-`/humans/faces/width（默认值：128）：在`/humans/faces/XYZ/cropped`、`/humans/faces/XYZ/aligned`和`/humans/faces/XYZ/frontalized`中发布的裁剪后面孔的像素宽度

- `/humans/faces/height` (default: 128): height in pixels of the cropped faces published under `/humans/faces/XYZ/cropped`, `/humans/faces/XYZ/aligned` and `/humans/faces/XYZ/frontalized`

> `- `/humans/faces/height`（默认值：128）：在`/humans/faces/XYZ/cropped`、`/humans/faces/XYZ/aligned`和`/humans/faces/XYZ/frontalized`发布的裁剪脸部的像素高度。

- `/human_description_<bodyID>`: URDF models of detected humans. See Section [Kinematic Model of the Human](#kinematic-model-of-the-human) for details.

> `- `/human_description_<bodyID>`: 检测到的人类的URDF模型。有关详细信息，请参阅[人体运动学模型]（#kinematic-model-of-the-human）部分。
- `/humans/match_threshold` (`float`, default: 0.5): the minimum level of likelihood to consider a face/body/voice to belong to a given person.

- `/humans/reference_frame` (`string`, default: [map]{.title-ref}): persons\' TF frames must be published with respect to [reference_frame]{.title-ref}. Typically, faces/bodies/voices frames are published wrt to their respective sensors frame. [reference_frame]{.title-ref} is usually a \'static\' frame (eg [map]{.title-ref}), so that if the person moves out of view of the robot (and therefore, its position can not be updated anymore), it remains where it was last seen, independently of any possible robot motion.

> 人类的TF框架必须根据参考框架来发布。通常，面部/身体/声音框架是根据它们各自的传感器框架来发布的。参考框架通常是一个“静态”框架（例如地图），因此，如果人离开机器人的视野（因此，其位置无法再更新），它将保持在最后一次观察到的位置，独立于机器人的任何可能运动。

# Topics Structure

A system implementing this REP MUST follow the following conventions for all HRI-related topics:

1. all topics are grouped under the global namespace `/humans/`
2. five sub-namespaces are available:

> - `/humans/faces`
> - `/humans/bodies`
> - `/humans/voices`
> - `/humans/persons`
> - `/humans/interactions`


3. the first four (`/faces`, `/bodies`, `/voices`, `/persons`) expose one sub-namespace per face, body, voice, person detected, named after the corresponding ID (for instance, `/humans/faces/bd34a/`). In addition, they expose a topic `/tracked` (of type `hri_msgs/IdsList`) where the list of currently tracked faces/bodies/voices/persons is published;

> 3. 前四个（`/faces`，`/bodies`，`/voices`，`/persons`）每个检测到的面部，身体，声音，人员暴露一个子命名空间，以相应的ID命名（例如，`/humans/faces/bd34a/`）。此外，它们还暴露一个`/tracked`主题（类型为`hri_msgs/IdsList`），其中发布当前跟踪的面部/身体/声音/人员的列表。

4. matches between faces/bodies/voices/persons are published on the `/humans/candidate_matches` topic, as explained in Section [Identifier matching](#identifier-matching);

> 4. 在[标识符匹配](#identifier-matching)部分所述，面部/身体/声音/人员之间的匹配会发布在`/humans/candidate_matches`主题上。
5. the `/humans/interactions` topic exposes group-level signals, including gazing patterns and social groups.

::: note
::: title
Note
:::

the `hri_msgs` messages are defined in the [hri_msgs](https://github.com/ros4hri/hri_msgs) repository.
:::

::: note
::: title
Note
:::

The slightly unconvential structure of topics (with one namespace per face, body, person, etc.) enables modular pipelines.


For instance, a face detector might publish cropped images of detected faces under `/humans/faces/face_1/cropped`, `/humans/faces/face_2/cropped`, etc.

> 例如，人脸检测器可能会在`/humans/faces/face_1/cropped`，`/humans/faces/face_2/cropped`等位置发布检测出的人脸裁剪图像。


Then, depending on the application, an additional facial expression recognizer might be needed as well. For each detected face, that node would subscribe to the corresponding [/cropped]{.title-ref} topic and publish its results under `/humans/faces/face_1/expression`, `/humans/faces/face_2/expression`, etc., augmenting the available information about each face in a modular way.

> 然后，根据应用，可能还需要一个额外的表情识别器。对于每个检测到的脸，该节点将订阅相应的[/cropped]{.title-ref}主题，并在'/humans/faces/face_1/expression'，'/humans/faces/face_2/expression'等下发布其结果，以模块化的方式增强有关每个面的可用信息。


Such modularity would not be easily possible if we had chosen to publish instead a generic `Face` message, as a single node would have had first to fuse all possible information about faces.

> 如果我们选择发布一个通用的“Face”消息，而不是模块化，那么这种模块化将不易实现，因为单个节点首先必须融合所有关于面部的信息。

See the [Illustrative Example](#illustrative-example) below for a complete example.
:::

::: note
::: title
Note
:::


[libhri](https://github.com/ros4hri/libhri) can be used to hide away the complexity of tracking new persons/faces/bodies/voices. It automatically handles subscribing/unsubcribing to the right topics when new persons/faces/bodies/voices are detected.

> libhri可用于隐藏跟踪新人/面孔/身体/声音的复杂性。当检测到新的人/面孔/身体/声音时，它会自动处理订阅/取消订阅正确的主题。
:::

## Faces

The list of currently detected faces (list of face IDs) is published under `/humans/faces/tracked` (as a `hri_msgs/IdsList` message).

For each detected face, a namespace `/humans/faces/<faceID>/` is created (eg `/humans/faces/bf3d/`).

The following subtopics MAY then be available, depending on available detectors:


+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

> +-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+
| Name              | Message type                   | Required | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |

+===================+================================+==========+===========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+

> +===================+================================+==========+===========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+

+===================+================================+==========+===========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+

等号：=================== +  前缀：================================ +  标记：========== +  内容：============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| `/roi`            | `sensor_msgs/RegionOfInterest` | > x      | Region of the face in the source image                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

> +-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

线条-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| `/cropped`        | `sensor_msgs/Image`            | > x      | Cropped face image, if necessary scaled, centered and 0-padded to match the `/humans/faces/width` and `/humans/faces/height` ROS parameters Aligned (eg, the two eyes are horizontally aligned) version of the cropped face, with same resolution as `/cropped` Frontalized version of the cropped face, with same resolution as `/cropped` 2D facial landmarks extracted from the face The presence and intensity of facial action units found in the face The expression recognised from the face Detected age and gender of the person |
|                   |                                |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `/aligned`        | > `sensor_msgs/Image`          |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                   | >                              |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `/frontalized`    | > `sensor_msgs/Image`          |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                   |                                |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `/landmarks`      | `hri_msgs/FacialLandmarks`     |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                   |                                |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `/facs`           | `hri_msgs/FacialActionUnits`   |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                   |                                |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `/expression`     | `hri_msgs/Expression`          |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                   |                                |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `/softbiometrics` | `hri_msgs/SoftBiometrics`      |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

> +-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+--------------------------------+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+-------------------------------+----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+-------------------+-------------------------------+----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

线条-------------------+-------------------------------+----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

## Bodies

The list of currently detected bodies (list of body IDs) is published under `/humans/bodies/tracked` (as a `hri_msgs/IdsList` message).


For each detected body, a namespace `/humans/bodies/<bodyID>/` is created. The following subtopics MAY then be available, depending on available detectors:

> 对于每个检测到的身体，将创建一个名称空间`/humans/bodies/<bodyID>/`。根据可用检测器，可能会有以下子主题：


+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

> +--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                     | Message type                              | Required | Description                                                                                                                                                                                                                                                         |

+==========================+===========================================+==========+=====================================================================================================================================================================================================================================================================+

> +==========================+===========================================+==========+=====================================================================================================================================================================================================================================================================+

+==========================+===========================================+==========+=====================================================================================================================================================================================================================================================================+

+==========================+===========================================+==========+=====================================================================================================================================================================================================================================================================+

+==========================+===========================================+==========+=====================================================================================================================================================================================================================================================================+
| `/roi`                   | `sensor_msgs/RegionOfInterest`            | > x      | Region of the whole body body in the source image                                                                                                                                                                                                                   |

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

> +--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

├─────────────────────────┼─────────────────────────────────────────┼──────────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────+
| `/cropped` `/skeleton2d` | `sensor_msgs/Image` `hri_msgs/Skeleton2D` | > x      | Cropped body image The 2D points of the the detected skeleton The joint state of the human body, following the [Kinematic Model of the Human](#kinematic-model-of-the-human) Recognised body posture (eg standing, sitting) Recognised symbolic gesture (eg waving) |
|                          |                                           |          |                                                                                                                                                                                                                                                                     |
| `/joint_states`          | `sensor_msgs/JointState`                  |          |                                                                                                                                                                                                                                                                     |
|                          |                                           |          |                                                                                                                                                                                                                                                                     |
| `/posture`               | `hri_msgs/BodyPosture`                    |          |                                                                                                                                                                                                                                                                     |
|                          |                                           |          |                                                                                                                                                                                                                                                                     |
| `/gesture`               | `hri_msgs/Gesture`                        |          |                                                                                                                                                                                                                                                                     |

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

> +--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+--------------------------+-------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

│  │  │  │  │

├───────────────┼───────────────────────────────────────────────┼──────────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤

│  │  │  │  │

│  │  │  │  │

│  │  │  │  │

│  │  │  │  │

└───────────────┴───────────────────────────────────────────────┴──────────┴───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘

│  │  │  │  │

├───────────────┼───────────────────────────────────────────────┼──────────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤

│  │  │  │  │

│  │  │  │  │

│  │  │  │  │

│  │  │  │  │

└───────────────┴───────────────────────────────────────────────┴──────────┴───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘

│  │  │  │  │

├───────────────┼───────────────────────────────────────────────┼──────────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤

│  │  │  │  │

│  │  │  │  │

│  │  │  │  │

│  │  │  │  │

└───────────────┴───────────────────────────────────────────────┴──────────┴───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘

│  │  │  │  │

├───────────────┼───────────────────────────────────────────────┼──────────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤

│  │  │  │  │

│  │  │  │  │

│  │  │  │  │

│  │  │  │  │

└───────────────┴───────────────────────────────────────────────┴──────────┴───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘

│  │  │  │  │

├───────────────┼───────────────────────────────────────────────┼──────────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤

│  │  │  │  │

│  │  │  │  │

│  │  │  │  │

│  │  │  │  │

└───────────────┴───────────────────────────────────────────────┴──────────┴───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘

│  │  │  │  │

├───────────────┼───────────────────────────────────────────────┼──────────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤

│  │  │  │  │

│  │  │  │  │

│  │  │  │  │

│  │  │  │  │

└───────────────┴───────────────────────────────────────────────┴──────────┴───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘

│  │  │  │  │

├───────────────┼───────────────────────────────────────────────┼──────────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤

│  │  │  │  │

│  │  │  │  │

│  │  │  │  │

│  │  │  │  │

└───────────────┴───────────────────────────────────────────────┴──────────┴───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘

│  │  │  │  │

├───────────────┼───────────────────────────────────────────────┼──────────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤

│  │  │  │  │

│  │  │  │  │

│  │  │  │  │

│  │  │  │  │

└───────────────┴───────────────────────────────────────────────┴──────────┴───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘

│  │  │  │  │

├───────────────┼───────────────────────────────────────────────┼──────────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤

│  │  │  │  │

│  │  │  │  │

│  │  │  │  │

│  │  │  │  │

└───────────────┴───────────────────────────────────────────────┴──────────┴───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘

│  │  │  │  │

├───────────────┼───────────────────────────────────────────────┼──────────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤

│  │  │  │  │

│  │  │  │  │

│  │  │  │  │

│  │  │  │  │

└───────────────┴───────────────────────────────────────────────┴──────────┴───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘

│  │  │  │  │

├───────────────┼───────────────────────────────────────────────┼──────────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤

│  │  │  │  │

│  │  │  │  │

│  │  │  │  │

│  │  │  │  │

└───────────────┴───────────────────────────────────────────────┴──────────┴───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘

│  │  │  │  │

├───────────────┼───────────────────────────────────────────────┼──────────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤

│  │  │  │  │

│  │  │  │  │

│  │  │  │  │

│  │  │  │  │

└──────────────


3D body poses SHOULD be exposed via TF frames. This is discussed in Section [Kinematic Model and Coordinate Frames](#kinematic-model-and-coordinate-frames).

> 3D身体姿势应通过TF框架暴露。这在[运动学模型和坐标系](#kinematic-model-and-coordinate-frames)一节中有讨论。

## Voices

The list of currently detected voices (list of voice IDs) is published under `/humans/voices/tracked` (as a `hri_msgs/IdsList` message).

For each detected voice, a namespace `/humans/voices/<voiceID>/` is created.

The following subtopics MAY then be available, depending on available detectors:


+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

> +----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+
| Name           | Message type                  | Required | Description                                                                                                                                                                                                    |

+================+===============================+==========+================================================================================================================================================================================================================+

> +================+===============================+==========+================================================================================================================================================================================================================+

+================+===============================+==========+================================================================================================================================================================================================================+

等号＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝
| `/audio`       | `audio_common_msgs/AudioData` | > x      | Separated audio stream for this voice INTERSPEECH'09 Emotion challenge[^5] low-level audio features Whether or not speech is recognised from this voice The live stream of speech recognized via an ASR engine |
|                |                               |          |                                                                                                                                                                                                                |
| `/features`    | `hri_msgs/AudioFeatures`      |          |                                                                                                                                                                                                                |
|                |                               |          |                                                                                                                                                                                                                |
| `/is_speaking` | `std_msgs/Bool`               |          |                                                                                                                                                                                                                |
|                |                               |          |                                                                                                                                                                                                                |
| `/speech`      | `hri_msgs/LiveSpeech`         |          |                                                                                                                                                                                                                |

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

> +----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+-------------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------+ 线条 --------------------------+----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

## Persons

The list of currently tracked persons (list of person IDs) is published under `/humans/persons/tracked` (as a `hri_msgs/IdsList` message).


The list of known persons (either actively tracked, or known but not tracked anymore) is published under `/humans/persons/known` (as a `hri_msgs/IdsList` message).

> 已知的人员列表（无论是正在跟踪的还是已知但不再跟踪的）都发布在`/humans/persons/known`（作为`hri_msgs/IdsList`消息）下。

For each detected person, a namespace `/humans/persons/<personID>/` is created.


The following subtopics MAY then be available, depending on available detectors, and whether or not the person has yet been matched to a face/body/voice:

> 以下子主题可能可用，取决于可用的探测器，以及该人是否已经与面部/身体/声音匹配：


+----------------------------+-----------------------------------------------------------------------------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

> +----------------------------+-----------------------------------------------------------------------------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------------------+-----------------------------------------------------------------------------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

简体中文：
+----------------------------+-----------------------------------------------------------------------------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                       | Message type                                                                                                    | Required | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |

+============================+=================================================================================================================+==========+===============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+

> +============================+=================================================================================================================+==========+===============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+

+============================+=================================================================================================================+==========+===============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+

等号==============+：表示开始

=================================================================================================================+==========+：表示内容

===============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+：表示结束
| `/anonymous`               | `std_msgs/Bool` (latched)                                                                                       | > x      | If true, the person is *anonymous*, ie has not yet been identified, and has not been issued a permanent ID Face matched to that person (if any) Body matched to that person (if any) Voice matched to that person (if any) If this person has been merged with another, this topic contains the person ID of the new person Engagement status of the person with the robot Location confidence; 1 means *person currently seen*, 0 means *person location unknown*. See [Person Frame](#person-frame) Name, if known IETF language codes like EN_gb, if known |
|                            |                                                                                                                 |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `/face_id`                 | `std_msgs/String` (latched) `std_msgs/String` (latched) `std_msgs/String` (latched) `std_msgs/String` (latched) |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                            |                                                                                                                 |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `/body_id`                 | `hri_msgs/EngagementLevel`                                                                                      |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                            |                                                                                                                 |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `/voice_id`                | `std_msgs/Float32`                                                                                              |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                            |                                                                                                                 |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `/alias`                   | `std_msgs/String` `std_msgs/String`                                                                             |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                            |                                                                                                                 |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `/engagement_status`       |                                                                                                                 |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                            |                                                                                                                 |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `/location_confidence`     |                                                                                                                 |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                            |                                                                                                                 |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `/name` `/native_language` |                                                                                                                 |          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |

+----------------------------+-----------------------------------------------------------------------------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

> +----------------------------+-----------------------------------------------------------------------------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

+----------------------------+-----------------------------------------------------------------------------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

简化中文：
+----------------------------+-----------------------------------------------------------------------------------------------------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

## Interactions

Finally, the namespace `/humans/interactions` exposes topics where group-level interactions are published when detected.

Name        Message type       Description

---

`/groups`   `hri_msgs/Group`   Estimated social groups
`/gazing`   `hri_msgs/Gaze`    Estimated gazing behaviours

See section [Group-level Interactions](#group-level-interactions) for details.

## Illustrative Example


You run a node `your_face_detector_node`. This node detects two faces, and publishes the corresponding regions of interest and cropped faces. The node effectively advertises and publishes onto the following topics:

> 你运行一个节点`your_face_detector_node`。这个节点检测到两张脸，并发布相应的感兴趣区域和裁剪的脸部。该节点有效地宣传并发布到以下主题：

```
> rostopic list
/humans/faces/23bd5/roi     # sensor_msgs/RegionOfInterest
/humans/faces/23bd5/cropped # sensor_msgs/Image
/humans/faces/b092e/roi     # sensor_msgs/RegionOfInterest
/humans/faces/b092e/cropped # sensor_msgs/Image
```

::: note
::: title
Note
:::


The IDs (in this example, `23bd5` and `b092e`) are arbitrary, as long as they are unique. However, for practical reasons, it is recommended to keep them reasonably short.

> 这些ID（在这个例子中，`23bd5`和`b092e`）是任意的，只要它们是唯一的就行。但出于实际原因，建议保持它们的长度合理。
:::


You start an additional node to recognise expressions: `your_expression_classifier_node`. The node subscribes to the `/humans/faces/<faceID>/cropped` topics and publishes expressions for each faces under the same namespace:

> 你启动一个额外的节点来识别表情：`your_expression_classifier_node`。该节点订阅`/humans/faces/<faceID>/cropped`主题，并在同一命名空间下发布每个面孔的表情：

```
> rostopic list
/humans/faces/23bd5/roi
/humans/faces/23bd5/cropped
/humans/faces/23bd5/expression # hri_msgs/Expression
/humans/faces/b092e/roi
/humans/faces/b092e/cropped
/humans/faces/b092e/expression # hri_msgs/Expression
```

You then launch `your_body_tracker_node`. It detects one body:

```
> rostopic list
/humans/faces/23bd5/...
/humans/faces/b092e/...
/humans/bodies/67dd1/roi     # sensor_msgs/RegionOfInterest
/humans/bodies/67dd1/cropped # sensor_msgs/Image
```


In addition, you start a 2D/3D pose estimator `your_skeleton_estimator_node`. The 2D skeleton can be published under the same body namespace, and the 3D skeleton is published as a joint state. The joint state can then be converted into TF frames using eg a URDF model of the human, alongside a `robot_state_publisher`:

> 此外，您可以启动2D/3D姿态估计器`your_skeleton_estimator_node`。 2D骨架可以在相同的身体命名空间下发布，3D骨架则作为关节状态发布。 然后可以使用例如人类的URDF模型以及`robot_state_publisher`将关节状态转换为TF框架：

```
> rostopic list
/humans/faces/23bd5/...
/humans/faces/b092e/...
/humans/bodies/67dd1/roi
/humans/bodies/67dd1/cropped
/humans/bodies/67dd1/skeleton2d # hri_msgs/Skeleton2D
/humans/bodies/67dd1/joint_states # sensor_msgs/JointState


> xacro ws/human_description/urdf/human-tpl.xacro id:=67dd1 height:=1.7 > body-67dd1.urdf
> rosparam set human_description_67dd1 -t body-67dd1.urdf
> rosrun robot_state_publisher robot_state_publisher joint_states:=/humans/bodies/67dd1/joint_states robot_description:=human_description_67dd1
```

::: note
::: title
Note
:::


In this example, we manually generate the URDF model of the human, load it to the ROS parameter server, and start a `robot_state_publisher`. In practice, this should be done programmatically everytime a new body is detected.

> 在这个例子中，我们手动生成人类的URDF模型，将其加载到ROS参数服务器，并启动`robot_state_publisher`。在实践中，每次检测到新的身体时都应该编程实现。
:::

So far, faces and bodies are detected, but they are not yet \'unified\' as a person.


First, we need a stable way to associate a face to a person. This would typically require a node for facial recognition. Such a node would subscribe to each of the detected faces\' `/cropped` subtopics, and publish *candidate matches* on the `/humans/candidate_matches` topic, using a `hri_msgs/IdsMatch` message. For instance:

> 首先，我们需要一种稳定的方法来将人脸与人关联起来。这通常需要一个用于人脸识别的节点。该节点将订阅检测到的每个人脸的“/cropped”子主题，并在“/humans/candidate_matches”主题上发布*候选匹配*，使用“hri_msgs/IdsMatch”消息。例如：

```
> rostopic echo /humans/candidate_matches
face_id: "23bd5"
body_id: ''
voice_id: ''
person_id: "76c0c"
confidence: 0.73
---
```

In that example, the person ID `76c0c` is created and assigned by the face recognition node itself.

Finally, you would need a `your_person_manager_node` to publish the `/humans/persons/76c0c/` subtopics based on the candidate matches:

```
> rostopic list
/humans/faces/23bd5/...
/humans/faces/b092e/...
/humans/bodies/67dd1/...
/humans/persons/76c0c/face_id
```


In this simple example, only the `/face_id` subtopic would be advertised (with a latched message pointing to the face ID `23bd5`). In practice, additional information could be gathered by the `your_person_manager_node` to expose eg soft biometrics, engagement, etc. Similarly, the association between the person and its body would have to be performed by a dedicated node.

> 在这个简单的例子中，只会宣传`/face_id`子主题（带有指向面部ID `23bd5`的闩锁消息）。在实践中，可以通过`your_person_manager_node`收集更多信息，例如软生物特征、参与度等。同样，将人与其身体关联起来也必须由专用节点完成。

Overall, six independent nodes are combined to implement this pipeline:

```{=html}
<div class="mermaid">
graph TD
  img(<em>image</em>)
  FR[<tt>your_face_recognizer_node</tt>]
  PE[<tt>your_skeleton_estimator_node</tt>]
  BT[<tt>your_body_tracker_node</tt>]
  EC[<tt>your_expression_classifier_node</tt>]
  FD[<tt>your_face_detector_node</tt>]
  PM[<tt>your_person_manager_node</tt>]
  img --> FD
  img --> BT
  FD --> EC
  FD --> FR
  FR --> PM
  BT --> PE
</div>
```


This possible pipeline is only for illustration purposes: depending on each specific pipeline implementations, some of these nodes might be merged or on the contrary, further divided into smaller nodes. For instance, one might choose to integrate together the face recogniser node and the person manager.

> 这个可能的管道只是用于说明目的：根据每个具体的管道实现，其中一些节点可能会被合并，或者相反，被进一步分割成更小的节点。例如，有人可能选择将人脸识别节点和人员管理器集成在一起。

Note as well that in order to build a complete perception pipeline for HRI, additional nodes would be needed, for instance for voice processing.

# Kinematic Model and Coordinate Frames

Where meaningful, the coordinate frames used for humans follow the conventions set out in REP-120[^6].

These conventions also follow the REP-103[^7].

## Kinematic Model of the Human

![Main joints of the human kinematic model (right: human URDF model,
rendered in rviz)](rep-0155/frames.png){width="600px"}


The main 15 links defined on the human body are presented in the above diagram. Frames orientations and naming are based on REP-103 and REP-120. Right: render of the reference URDF model of the human body in [rviz]{.title-ref}.

> 在上图中呈现了人体上定义的15个主要关节链接。框架方向和命名基于REP-103和REP-120。右侧：参考URDF模型的人体在[rviz]{.title-ref}中的渲染。

The following diagram presents all the link (boxes) and joints (arrows) in the recommended human kinematic model.

```{=html}
<div class="mermaid">
graph TD
  B[body] -->|waist| W[waist]
  W --> |"torso [fixed]"| T[torso]

  T -->|r_head| D[r_head]
  D -->|y_head| E[y_head]
  E -->|p_head| F[p_head]
  F -->|"head [fixed]"| G[head]

  T -->|l_y_shoulder| SLY[l_y_shoulder]
  SLY -->|l_p_shoulder| SLP[l_p_shoulder]
  SLP -->|l_r_shoulder| SL[l_shoulder]
  SL -->|l_elbow| EL[l_elbow]
  EL -->|"l_wrist [fixed]"| WL[l_wrist]

  T -->|r_y_shoulder| SRY[r_y_shoulder]
  SRY -->|r_p_shoulder| SRP[r_p_shoulder]
  SRP -->|r_r_shoulder| SR[r_shoulder]
  SR -->|r_elbow| ER[r_elbow]
  ER -->|"r_wrist [fixed]"| WR[r_wrist]  

  B -->|l_y_hip| HLY[l_y_hip]
  HLY -->|l_p_hip| HLP[l_p_hip]
  HLP -->|l_r_hip| HL[l_hip]
  HL -->|l_knee| KL[l_knee]
  KL -->|"l_ankle [fixed]"| AL[l_ankle]

  B -->|r_y_hip| HRY[r_y_hip]
  HRY -->|r_p_hip| HRP[r_p_hip]
  HRP -->|r_r_hip| HR[r_hip]
  HR -->|r_knee| KR[r_knee]
  KR -->|"r_ankle [fixed]"| AR[r_ankle]
</div>
```


In practice, each of these links and joints must be suffixed with the corresponding `<bodyID>`, as several skeletons might be present at the same time.

> 在实践中，每个链接和接头必须附加相应的“<bodyID>”，因为可能同时存在多个骨架。


A parametric URDF model of humans is available in the `human_description` package. It SHOULD be used to instantiate at run-time new human URDF model, adjusted for the e.g. height of the detected persons. The person\'s joint state (published under `/humans/bodies/<bodyID>/joint_states`) can then be used with eg a [robot_state_publisher node \<[http://wiki.ros.org/robot_state_publisher](http://wiki.ros.org/robot_state_publisher)\>]{.title-ref} to publish the body\'s TF frames.

> 一个参数化的URDF人类模型可以在`human_description`包中找到。它应该用来在运行时实例化新的人类URDF模型，以适应例如检测到的人的身高。然后，可以使用例如[robot_state_publisher节点<http://wiki.ros.org/robot_state_publisher>]来发布人体TF帧，其中的人体关节状态（发布在`/humans/bodies/<bodyID>/joint_states`）。

When generated, the URDF models of the humans should be loaded on the ROS parameter server under `/human_description_<bodyID>`.

::: note
::: title
Note
:::


the [human_description](https://github.com/ros4hri/human_description) ROS package contains a launch script `visualize.launch` that can be used to quickly experiment with the kinematic model of humans.

> 该ROS包human_description包含一个启动脚本visualize.launch，可用于快速实验人类的运动学模型。
:::

## Face and Gaze Frames


- Head pose estimation nodes MUST publish the head 6D pose as a TF frame named `face_<faceID>` where `<faceID>` stands for the unique face identifier.

> 节点必须发布头部6D姿态作为一个TF帧，命名为`face_<faceID>`，其中`<faceID>`代表唯一的人脸标识符。
- the parent of this frame is the sensor frame used to estimate the face pose.

- The origin of the frame must be the sellion (defined as the deepest midline point of the angle formed between the nose and forehead. It can generally be approximated to the mid point of line connecting the two eyes).

> 原点必须是sellion（定义为鼻子和额头之间形成的角度的最深中线点。它通常可以近似为连接两只眼睛的线的中点）。

- The `x` axis is expected to point forward (ie, out of the face), the `z` axis is expected to point toward the scalp (ie, up when the person is standing vertically).

> x轴期望朝前（即，朝面部），z轴期望朝头皮（即，当人站立时朝上）。
- Any other facial landmark published as a TF frame must be parented to the head TF frame. It should be suffixed with the same `_<faceID>`.


In addition, the person\'s gaze direction MUST be published as a `gaze_<faceID>` frame, collocated with the `face_<faceID>` frame, and with its `z` axis aligned with the estimated gaze vector, `x` right, and `y` down (\'optical frame\' convention).

> 此外，该人的凝视方向必须以“gaze_<faceID>”帧的形式发布，与“face_<faceID>”帧搭配使用，其z轴与估计的凝视向量对齐，x轴向右，y轴向下（“光学帧”约定）。

If gaze is not estimated beyond general head orientation, the `gaze_<faceID>`\'s `z` axis will be colinear with the `face_<faceID>`\'s `x` axis.

Finally, nodes performing attention estimation MAY publish a frame `focus_<faceID>` representing the estimated focus of attention of the person.

## Body Frames

- The body frame is named `body_<bodyID>` where `<bodyID>` stands for the unique skeleton identifier.
- The origin of the frame is located at the mid point of the line connecting the hips.
- the parent of this frame is the sensor frame used to estimate the body pose.

- The `x` axis is expected to point forward (ie, out of the body), the `z` axis is expected to point toward the head (ie, up when the person is standing vertically).

> 预期x轴朝前（即从身体出发），z轴朝头部（即站立时朝上）。

- The other skeleton points published as TF frames must be parented to the root `body_<bodyID>` frame, and all be suffixed with the same `_<bodyID>`. Section [Kinematic Model of the Human](#kinematic-model-of-the-human) lists the recommended names of body links and body joints.

> 其他骨架点发布为TF帧必须父级到根`body_<bodyID>`帧，并且所有的后缀都是相同的`_<bodyID>`。[人体运动学模型](#kinematic-model-of-the-human)部分列出了身体链接和身体关节的推荐名称。

- if the skeleton tracker provide an estimate of the head pose, it might publish a frame named `head_<bodyID>`. *It is the joint responsibility of the face tracker and skeleton tracker to ensure that* `face_<faceID>` *and* `head_<bodyID>` *are consistent with each other*.

> 如果骨架跟踪器提供头部姿态估计，它可能会发布一个名为`head_<bodyID>`的帧。面部跟踪器和骨架跟踪器共同负责确保`face_<faceID>`和`head_<bodyID>`彼此一致。

## Voice Frame

- Sound source localisation algorithms can broadcast estimated TF frames for detected voices. These frames should be named `voice_<voiceID>`.
- The orientation of the frame is meaningless, and should be ignored.

## Person Frame


The `person_<personID>` frame has a slightly more complex semantic and must be interpreted in conjunction with the person\'s `location_confidence` value (see [Persons](#persons) topics).

> `person_<personID>` 框架具有略微复杂的语义，必须与人的`location_confidence`值一起解释（参见[人员](#persons)主题）。

We can distinguish three cases:


1. The human is currently being tracked (ie `personID` is set, and at least one of `faceID` or `bodyID` is set). In this case, `location_confidence` MUST be set to 1 and:

> 1. 目前正在追踪人类（即设置了`personID`，且至少设置了`faceID`或`bodyID`）。在这种情况下，`location_confidence`必须设置为1，并且：

> - when a face ID is also defined, the `person_<personID>` frame must be collocated with the `face_<faceID>` frame.
> - when a body ID is defined (ie the skeleton is being tracked), the `person_<personID>` frame must be collocated with the skeleton frame the closest to the head.
> - if both the face and body IDs are defined, the `person_<personID>` frame must be collocated with the `face_<faceID>` frame.


2. The human is not seen, but has been previously seen. In this case, `location_confidence` MUST be set to a value `< 1` and a `person_<personID>` TF frame MUST be published **as long as** `location_confidence > 0`. Simple implementations might choose to set `location_confidence = 0.5` as soon as the person is not actively seen anymore, continuously broadcast the last known location. More advanced implementations might slowly decrease `location_confidence` over time to represent the fact that the human might have walked away, for instance.

> 人没有被看到，但以前被看到过。在这种情况下，`location_confidence`必须设置为值`< 1`，只要`location_confidence > 0`，就必须发布`person_<personID>` TF 帧。简单的实现可能会选择在人不再被主动看到时立即将`location_confidence`设置为0.5，并不断广播最后一次已知的位置。更高级的实现可能会随着时间的推移缓慢降低`location_confidence`，以表示人可能已经走开了，例如。
3. The human is known, but has never been seen before. In this case, `location_confidence` MUST be set to `0`, and no TF frame should be broadcast.

# Group-level Interactions

## Representation of Groups

When detected, group-level interactions are published on the `/humans/interactions/groups`, using the `hri_msgs/Group.msg` message type.

Each group is defined by a unique group ID, and a list of person IDs. (groups can only be defined between persons).

## Representation of gazing behaviours

Social gazing (eg, gazing between people) is represented as `hri_msgs/Gaze.msg` messages, published on the `/humans/interactions/gazing` topic.


Each `Gaze.msg` messages contain a *sender* and a *receiver* that MUST be known persons. Note that the relationship is not symmetrical: \"A gazes at B\" does not imply \"B gazes at A\". As such, *mutual gaze* will lead to two messages being published.

> 每条Gaze.msg消息都包含一个*发送者*和一个*接收者*，这两个必须是已知的人。请注意，这种关系不是对称的：“A凝视B”并不意味着“B凝视A”。因此，*相互凝视*会导致发布两条消息。

If one or the other of the sender and receiver IDs are not set, the robot is assumed to respectively originate or be the target of the gaze.

Nodes publishing gazing information are expected to continuously publish gaze messages, until the person is not gazing at the target anymore.

# References

# Acknowledgements

## Contributors

Antonio Andriella, Lorenzo Ferrini, Youssef Mohamed, Andres Ramirez-Duque

*(alphabetic order)*

## Funding

This work has been primarily funded by PAL Robotics, with the Bristol Robotics Lab/University of the West of England funding the initial research.


In addition, the work leading to this REP has received funding from the European Union through the H2020 SPRING project (grant agreement 871245), and the ACCIÓ Tecniospring TALBOT project.

> 此外，这项REP的工作得到了欧盟通过H2020 SPRING项目（第871245号授权协议）和ACCIÓ Tecniospring TALBOT项目的资助。

# Copyright


Copyright (c) 2021 by PAL Robotics. This material may be distributed only subject to the terms and conditions set forth in the Open Publication License, v1.0 or later (the latest version is presently available at [http://www.opencontent.org/openpub/](http://www.opencontent.org/openpub/)).

> 版权所有 (c) 2021 PAL Robotics。本材料只能在遵守《开放出版版许可证，v1.0或更高版本（目前最新版本可在[http://www.opencontent.org/openpub/]（http://www.opencontent.org/openpub/）上获得）中设定的条款和条件下分发。

#### 

> Local Variables: mode: indented-text indent-tabs-mode: nil sentence-end-double-space: t fill-column: 70 coding: utf-8 End:

[^1]: `people` package, last commit in 2015 ([https://github.com/wg-perception/people](https://github.com/wg-perception/people))



[^2]: `cob_people_perception` package, mainly developed between 2012 and 2014 ([https://github.com/ipa320/cob_people_perception](https://github.com/ipa320/cob_people_perception))

> [^2]: 包名 `cob_people_perception`，主要在2012至2014年期间开发（[https://github.com/ipa320/cob_people_perception](https://github.com/ipa320/cob_people_perception)）


[^3]: REP 120, Coordinate Frames for Humanoid Robots ([https://ros.org/reps/pep-0120.html](https://ros.org/reps/pep-0120.html))



[^4]: RFC2119, Key words for use in RFCs to Indicate Requirement Levels ([https://datatracker.ietf.org/doc/html/rfc2119](https://datatracker.ietf.org/doc/html/rfc2119))

> [^4]: RFC2119，用于RFC中表示要求级别的关键字（[https://datatracker.ietf.org/doc/html/rfc2119](https://datatracker.ietf.org/doc/html/rfc2119))



[^5]: *The INTERSPEECH 2009 emotion challenge*, Schuller, Steidl and Batliner, Tenth Annual Conference of the International Speech Communication Association, 2009

> 《INTERSPEECH 2009情感挑战赛》，Schuller、Steidl和Batliner，第十届国际语音通信协会年会，2009年


[^6]: REP 120, Coordinate Frames for Humanoid Robots ([https://ros.org/reps/pep-0120.html](https://ros.org/reps/pep-0120.html))


[^7]: REP 103, Standard Units of Measure and Coordinate Conventions ([http://www.ros.org/reps/rep-0103.html](http://www.ros.org/reps/rep-0103.html))
