---
tip: translate by openai@2023-06-08 08:53:08
...

REP: 147 Title: A Standard interface for Aerial Vehicles Author: Tully Foote Status: Deferred Type: Informational Content-Type: text/x-rst Created: 16-May-2016 Post-History: 12-Jul-2016, 18-Jan-2018

> 回复：147 标题：无人机的标准接口 作者：Tully Foote 状态：搁置 类型：信息内容类型：text / x-rst 创建日期：2016年5月16日 后历史：2016年7月12日，2018年1月18日

# Abstract


This REP is written to provide a common interface for aerial vehicles. This interface is designed to promote interoperability and reusability of core functionality between diverse aerial vehicles. By leveraging the interfaces defined in this REP we both tools and libraries can be designed to be reusable between different frameworks and vehicles. It is expected that aerial vehicles can and will implement additional interfaces in addition to these core interfaces. When choosing an interface these should be considered the default and only change away from them for a good reason.

> 这份REP旨在为空中飞行器提供一个通用的接口。该接口旨在促进不同空中飞行器之间核心功能的互操作性和可重用性。通过利用本REP中定义的接口，可以设计出可在不同框架和飞行器之间重用的工具和库。预期空中飞行器可以也将实现除这些核心接口之外的其他接口。在选择接口时，应将其视为默认值，只有有充分理由才能改变它们。


These interfaces are designed to be relevant for all types of aerial vehicles whether multi-copter, fixed-wing, hybrid, transitional or other. Like ground robots, the core abstraction is the same for all vehicles regardless of their method of motivation.

> 这些接口旨在适用于所有类型的飞行器，无论是多旋翼、固定翼、混合动力、过渡或其他。与地面机器人一样，不论它们的驱动方式如何，所有飞行器的核心抽象是相同的。

# Rationale


There are a lot of developers around the world using ROS on aerial vehicles. As such there are also many different implementations which are similiar but not exactly compatible. A short list of existing known bridges and implementations follows:

> 全世界有许多开发人员在使用ROS进行空中载具操作。因此也有许多不完全兼容的相似实现。下面是现有已知的桥接和实现的简短列表：

> - astec_mav_framework[^1]
> - autopilot_bridge[^2]
> - CRATES[^3]
> - dji_sdk_dji2ros[^4]
> - dji_sdk[^5]
> - hector_quadrotor[^6]
> - mav_tools[^7]
> - mavlink2ros[^8]
> - mavros[^9]
> - roscopter[^10]
> - rospilot[^11]


Due to a lack of common interfaces the majority of the above packages cannot be used together. By implementing common interfaces elements of each package can be used in conjunction with elements of a different package. This will allow much better collaboration between projects and allow a reduction in duplicate efforts to implement the same functionality.

> 由于缺乏共同的接口，上述大多数包无法一起使用。通过实施共同的接口，可以使不同包中的元素相互结合。这将使项目之间的合作更加紧密，并减少实现相同功能的重复努力。


There are also a lot of interfaces already well developed from other domains which can be brought into the aerial vehicle domain. This REP seeks to also integrate as many of those reusable interfaces as well to provide the greatest compatibilty with those other domains.

> 也有许多来自其他领域的已经很好地开发的接口可以引入航空器领域。本REP还旨在整合尽可能多的可重用接口，以提供与其他领域最大的兼容性。

# Other interface defintions

There are a lot of messages already defined. These messages definitions were used to help define this set.

> - DroneKit[^12]
> - mav_msgs[^13]
> - mavlink[^14]
> - mavlink2[^15]
> - mavros_msgs[^16]
> - nav_msgs[^17]
> - trajectory_msgs[^18]

# Reference Abstractions


For this document we will use the following abstractions of the architecture. These abstractions are used to define the interfaces, however it is not required that a given system implement all the interfaces. A given system may implement subsets of these interfaces.

> 对于本文档，我们将使用架构的以下抽象。这些抽象被用来定义接口，但不要求给定的系统实现所有接口。给定的系统可以实现这些接口的子集。

## Control Abstractions

For controlling an aerial vehicle we will use the following terms for the interfaces.

```{=html}
<div class="mermaid">
graph LR
  na[ ]
  tc[Trajectory Controller]
  ac[Attitude Controller]
  rc[Rate Controller]
  va[Vehicle Abstraction]
  na ==>|Trajectory|tc
  tc ==>|Pose|ac
  ac ==>|Rate|rc
  rc ==>|Acceleration|va

  va -.-> am[Allocation Matrix]
  va -.-> mixer

  am -.-> Actuators
  mixer -.-> Actuators
</div>
```

## High Level Architecture

A higher level view of the system uses the following abstraction.

```{=html}
<div class="mermaid">
graph LR
  GCS[Ground Control Station]
  CS[Collision Sensors]
  OS[Odometry Sensors]
  C[Controller]
  L[ ]
  style L fill:#fff,stroke:#ff0,stroke-width:0px;
  L --> CS
  L --> GCS
  L --> OS
  subgraph Generic Planning Framework
  CM[Collision Mapping]
  MSC[Planner e.g.<br>Minimum Snap Trajectory Generator]
  CM ---|Shared State|MSC
  end
  CS -->|Obstacle Observations|CM
  OS -->|Odometry|MSC
  OS -->|Odometry|CM
  OS -->|Odometry|C
  GCS -->|Goals|MSC
  MSC -->|Control Abstraction|C
  %% Links to L
  linkStyle 0 fill:#fff,stroke:#ff0,stroke-width:0px;
  linkStyle 1 fill:#fff,stroke:#ff0,stroke-width:0px;
  linkStyle 2 fill:#fff,stroke:#ff0,stroke-width:0px;
</div>
```

# Coordinate Frames

It is expected that users of this interface will also follow the coordinate frame conventions layed out in REP 105[^19].

# Proposed Interfaces

## Control Interfaces

### Trajectory Control Interface


For sending trajectories in 3D space there already exists a message used for free space planning. This message used is `trajectory_msgs/MultiDOFJointTrajectory`[^20] and is actively used by planning frameworks already.

> 为了在三维空间中发送轨迹，已经存在一种用于自由空间规划的消息。这个消息被称为`trajectory_msgs/MultiDOFJointTrajectory`[^20]，已经被规划框架积极使用。


This message is not the most straight forward to parse as it has a lot of optional fields which increases the complexity and requires consistent labelling and filling. The complexity of the message parsing is traded off against supporting a relatively compact representations.

> 这条消息不是最直接易懂的，因为它有很多可选字段，增加了复杂性，需要一致的标记和填充。消息解析的复杂性与支持相对紧凑的表示之间进行了权衡。

- Datatype: `trajectory_msgs/MultiDOFJointTrajectory`[^21]
- Topic: `command_trajectory`

```{=html}
<!-- -->
```

```
# The header is used to specify the coordinate frame and the reference time for the trajectory durations
Header header

# A representation of a multi-dof joint trajectory (each point is a transformation)
# Each point along the trajectory will include an array of positions/velocities/accelerations
# that has the same length as the array of joint names, and has the same order of joints as
# the joint names array.

string[] joint_names
MultiDOFJointTrajectoryPoint[] points
```

### Pose Interface


The message to send a goal pose is `geometry_msgs/PoseStamped`[^22]. This is a very highly used standard message and contains precisely the information needed.

> 发送目标位姿的消息是`geometry_msgs/PoseStamped`[^22]。这是一个非常常用的标准消息，包含了精确的所需信息。

- Datatype: `geometry_msgs/PoseStamped`[^23]
- Topic: `command_pose`

```{=html}
<!-- -->
```

```
# A Pose with reference coordinate frame and timestamp
Header header
Pose pose
```

The reference position is the origin of the `base_link` as defined in

### Rate Interface


The message to send a velocity command is `geometry_msgs/TwistStamped`[^24]. This is the standard way to command ROS vehicles. The datatype is not timestamped or externally referenced as it is not intended to be used in an open loop control system.

> 发送速度命令的消息是`geometry_msgs/TwistStamped`[^24]。这是指令ROS车辆的标准方式。数据类型不带时间戳或外部引用，因为它不是用于开环控制系统的。

- Datatype: `geometry_msgs/TwistStamped`[^25]
- Topic: `command_velocity`

```{=html}
<!-- -->
```

```
std_msgs/Header header
  uint32 seq
  time stamp
  string frame_id
geometry_msgs/Twist twist
  geometry_msgs/Vector3 linear
    float64 x
    float64 y
    float64 z
  geometry_msgs/Vector3 angular
    float64 x
    float64 y
    float64 z
```


The command is a body relative set of accelerations in linear and angular space. This diverges from the common `geometry_msgs/Twist`[^26] used by ground robots. A pure `Twist` based inteface could be provided for backwards compatability as well. It was chosen to diverge here since this is a much more powerful inteface for the vehicles and does not require all commands to be reverse calculated for the instantaneous attitude of the vehicle.

> 命令是一组相对于机体的线性和角空间的加速度。这与地面机器人常用的`geometry_msgs/Twist`[^26]不同。为了向后兼容，可以提供纯`Twist`接口。这里选择了偏离，因为这是一个更强大的车辆接口，不需要为车辆的当前姿态反向计算所有命令。

This is replacing `mav_msgs/AttitudeThrust`[^27] and `mav_msgs/RollPitchYawrateThrust`[^28].

### Acceleration Interface


The message to send a velocity command is `geometry_msgs/Twist`[^29]. The datatype is not timestamped or externally referenced as it is not intended to be used in an open loop control system.

> 发送速度指令的消息是`geometry_msgs/Twist`[^29]。该数据类型不带时间戳或外部引用，因为它不适用于开环控制系统。

- Datatype: `geometry_msgs/TwistStamped`[^30]
- Topic: `command_acceleration`

```{=html}
<!-- -->
```

```
std_msgs/Header header
  uint32 seq
  time stamp
  string frame_id
geometry_msgs/Twist twist
  geometry_msgs/Vector3 linear
    float64 x
    float64 y
    float64 z
  geometry_msgs/Vector3 angular
    float64 x
    float64 y
    float64 z
```


The command is a body relative set of accelerations in linear and angular space. The reference position is the origin of the `base_link` as defined in

> 命令是一组相对于身体的加速度，在线性和角空间中。参考位置是`base_link`定义的原点。

This is replacing the `mav_msgs/RateThrust`[^31] message for a more standard one with the specific call out of the `base_link`.

## High Level Interfaces

### Odometry Interface


To communicate odometry information the `nav_msgs/Odometry` message will be used.[^32] This is the standard message used throughout ROS systems already, many modules already take advantage of it. However there are many use cases for aerial vehicles when the estimation of the acceleration is important. So an additional message will be defined which provides acceleration in addition to position and velocity already defined. This additional message will be published in parallel. For backwards compatibility all systems will publish both.

> 为了传达里程计信息，将使用`nav_msgs/Odometry`消息。[^32] 这是ROS系统中已经使用的标准消息，许多模块已经可以利用它。然而，对于空中航行器来说，估计加速度也很重要。因此，将定义一个除了位置和速度之外还提供加速度的附加消息。这个附加消息将被并行发布。为了向后兼容，所有系统都将发布这两种消息。

- Datatype: `nav_msgs/Odometry`[^33]
- Topic: `odom`

```{=html}
<!-- -->
```

```
# This represents an estimate of a position and velocity in free space.
# The pose in this message should be specified in the coordinate frame given by header.frame_id.
# The twist in this message should be specified in the coordinate frame given by the child_frame_id
Header header
string child_frame_id
geometry_msgs/PoseWithCovariance pose
geometry_msgs/TwistWithCovariance twist
```

- Datatype: `nav_msgs/OdometryWithAcceleration` [\[proposed\]]{.title-ref}
- Topic: `odometry`

```{=html}
<!-- -->
```

```
# This represents an estimate of a position, velocity, and acceleration in free space.
# The pose in this message should be specified in the coordinate frame given by header.frame_id.
# The twist and acceleration in this message should be specified in the coordinate frame given by the child_frame_id
Header header
string child_frame_id
geometry_msgs/PoseWithCovariance pose
geometry_msgs/TwistWithCovariance twist
geometry_msgs/TwistWithCovariance acceleration
```

### Goal Interface


It is expected that there will be several high level ways to communicate goals which are application specific. A standard way to communicate goals will also be important following the mavlink protocol we can send the same messages over ROS using the following pair of messages.

> 预计将有几种高级方式来传达特定应用的目标。使用mavlink协议标准化的传达目标的方式也很重要，我们可以使用以下两条消息在ROS上发送相同的消息。

- SubDatatype: `nav_msgs/GlobalPosition` [\[proposed\]]{.title-ref}
- Topic: `command_gps_pose`

```{=html}
<!-- -->
```

```
std_msgs/Header header

uint8 coordinate_frame
uint8 FRAME_GLOBAL_INT = 5
uint8 FRAME_GLOBAL_REL_ALT = 6
uint8 FRAME_GLOBAL_TERRAIN_ALT = 11

uint16 type_mask
uint16 IGNORE_LATITUDE = 1    # Position ignore flags
uint16 IGNORE_LONGITUDE = 2
uint16 IGNORE_ALTITUDE = 4
uint16 IGNORE_VX = 8  # Velocity vector ignore flags
uint16 IGNORE_VY = 16
uint16 IGNORE_VZ = 32
uint16 IGNORE_AFX = 64    # Acceleration/Force vector ignore flags
uint16 IGNORE_AFY = 128
uint16 IGNORE_AFZ = 256
uint16 FORCE = 512    # Force in af vector flag
uint16 IGNORE_YAW = 1024
uint16 IGNORE_YAW_RATE = 2048

float64 latitude
float64 longitude
float32 altitude  # in meters, AMSL or above terrain
geometry_msgs/Twist velocity
geometry_msgs/Twist acceleration_or_force
float32 yaw
```

To send a series of goals a list of GlobalPositions can be used.

- Datatype: `nav_msgs/GlobalWaypoints` [\[proposed\]]{.title-ref}
- Topic: `command_gps_pose`

```{=html}
<!-- -->
```

```
nav_msgs/GlobalPosition[] waypoints
```

## Currently Unspecified

### Obstacle Observations


The obstacle observations are expected to use common sensor messages. However since there are a large variety of potential sensors, this interface will not be defined in this REP. It is recommended to use the common messages such as `LaserScan`, `DepthImage`, and `PointCloud2` from `sensor_msgs` whenever possible.[^34]

> 预计使用常见传感器消息来观察障碍物。然而，由于有大量潜在的传感器，本REP中不会定义此接口。建议尽可能使用`sensor_msgs`中的常见消息，如`LaserScan`、`DepthImage`和`PointCloud2`。[^34]

### Shared State


The shared state between the collision mapping and motion planning controller is expected to be very specific to the implementation. As such it is not proposed to be standardized.

> 在碰撞映射和运动规划控制器之间的共享状态预计将非常具体于实现。因此，不建议将其标准化。

### Missions


Currently there are quite a few varieties of missions data formats that are available. The most prominent is the mavlink mission protocol.[^35] These missions are heavily used and often customized. A ROS equivalent could be defined but the current mission protocol is both relatively complicated and only provides relatively simple primative constructs with which to compose a mission. It is expected that mission planners can dynamically construct lower level controls for the vehicle that can then be executed upon by the vehicle controller. The simplest of these mission planners would generate a target waypoint for the vehicle to fly to and send a new one when there\'s a new position to fly to. A slightly more complex flight mission might send a series of waypoints which the vehicle will follow until the end. If a change in path is required the mission planner will deliver a whole new set of waypoints for the vehicle to follow. For more complicated missions the mission planner can generate the lower level trajectories for controlling the vehicles path more specifically, such as when doing an orbit or other more advanced mission operation. There are a lot more advanced missions that can be run with state machines and higher level logic. Until there is more development in this area we will not propose a standardized mission profile.

> 目前有很多种任务数据格式可供选择。最突出的是mavlink任务协议[^35]。这些任务经常被广泛使用并且经常被定制。有可能定义ROS的等价物，但是当前的任务协议既相对复杂又只提供相对简单的原始构造来组成任务。期望任务规划者可以动态地为车辆构建更低层次的控制，然后由车辆控制器执行。最简单的任务规划者会为车辆生成一个目标航点，当有新位置时发送一个新的航点。稍微复杂一点的飞行任务可能会发送一系列航点，车辆将按照这些航点飞行，直到到达终点。如果需要改变路径，任务规划者将为车辆提供一整套新的航点来遵循。对于更复杂的任务，任务规划者可以生成更低级别的轨迹来更具体地控制车辆的路径，比如执行环绕或其他更高级的任务操作。有很多更先进的任务可以通过状态机和更高级的逻辑来运行。在这个领域有更多的发展之前，我们不会提出标准化的任务规范。

# Other Interfaces

## Battery State


Aerial vehicles should use the `sensor_msgs/BatteryState` message for reporting their battery status.[^36] This is a recently standardized message which is much more broadly applicable than aerial vehicles and has already been standardized.

> 无人机应该使用`sensor_msgs/BatteryState`消息报告它们的电池状态[^36]。这是一个最近标准化的消息，比无人机更广泛地应用，已经被标准化了。

- Datatype: `sensor_msgs/BatteryState`[^37]
- Topic: `battery_state`

## Vehicle Status


Drones could have different configurations or types as well as define failsafes, engine failures or hardware in the loop setup. These are the fields proposed for this message

> 无人机可以有不同的配置或类型，并定义故障保护、发动机故障或硬件在环境设置中。这些是为此消息提出的字段。

- Datatype: `proposed_aerial_msgs/VehicleStatus` (proposed)
- Service Name: [status]{.title-ref}

```{=html}
<!-- -->
```

```
uint8 HIL_STATE_OFF = 0
uint8 HIL_STATE_ON = 1

uint8 VEHICLE_TYPE_UNKNOWN = 0
uint8 VEHICLE_TYPE_ROTARY_WING = 1
uint8 VEHICLE_TYPE_FIXED_WING = 2
uint8 VEHICLE_TYPE_ROVER = 3
uint8 VEHICLE_TYPE_VTOL = 4

std_msgs/Header header

uint8 system_type     # system type
bool engine_failure   # Set to true if an engine failure is detected
bool failsafe         # true if system is in failsafe state
uint8 hil_state       # current hil state
```

## Flight Modes


Drones have quite a few flight modes. For example the PX4 Flight Modes number between 9 and 12 for different configurations.[^38] Many of these different modes are modifying which user inputs are used and/or how they are interpreted. For working with ROS it is expected that the user inputs will be modulated and recieved through the ROS system and that the system will be in control the whole time including implementing fallback and recovery behaviors. Without the need for these extra modes we will reduce the state diagram significantly. The autopilot itself is expected to be in Offboard control mode for most configurations using ROS. In theory all of the states could be eliminated and the arming, takeoff, landing, and return to land logic could be fully implemented, but we will keep those states which are related to safety system already implemented.

> 无人机有很多飞行模式。例如，PX4飞行模式的数量在不同配置下介于9到12之间。这些不同的模式中，许多都是在修改用户输入的使用方式和/或它们的解释方式。在使用ROS时，预期用户输入将通过ROS系统调制和接收，并且系统将在整个过程中处于控制状态，包括实施回退和恢复行为。如果不需要这些额外的模式，我们将大大减少状态图。预计自动驾驶仪将在大多数配置下使用ROS处于外接控制模式。理论上，所有状态都可以被消除，解锁、起飞、降落和返回陆地逻辑可以完全实现，但我们将保留与已实施的安全系统相关的状态。

To that end the following modes for ROS flight operations are proposed.

```{=html}
<div class="mermaid">
graph LR
  DISARMED[Disarmed]
  ARMED[Armed]
  FLYING[Flying]
  LANDED[Landed]
  RTL[Return to Land]
  DISARMED --> |Arm| ARMED
  ARMED --> |Takeoff| FLYING
  FLYING --> |Land| LANDED
  FLYING --> | RTL<br>Lost Link | RTL
  LANDED --> |Auto Disarm| DISARMED
  RTL --> |Disarm| DISARMED
  FLYING --> |Disarm| DISARMED
  RTL --> | Auto Land | LANDED
  %% Links to DISARMED
  linkStyle 5 fill:#fff,stroke:#f00,stroke-width:3px;
  linkStyle 6 fill:#fff,stroke:#f00,stroke-width:3px;
</div>
```

Note that the red disarm transitions are potentially unsafe as they could lead to the vehicle falling.

- Datatype: `mav_msgs/FlightMode` (proposed)

```{=html}
<!-- -->
```

```
uint8 FLIGHT_MODE_DISARMED=0
uint8 FLIGHT_MODE_ARMED=1
uint8 FLIGHT_MODE_FLYING=2
uint8 FLIGHT_MODE_LANDED=3
uint8 FLIGHT_MODE_RTL=4

uint8 flight_mode # The flight mode indicated
```

- Datatype: `mav_msgs/SetFlightMode` (proposed)
- Service Name: [set_flight_mode]{.title-ref}

```{=html}
<!-- -->
```

```
mav_msgs/FlightMode goal # The desired flight mode
---
mav_msgs/FlightMode result # The resultant state after the attempted transition.
bool success # True if desired change was executed False otherwise.
```

# Mavlink Equivalents

One of the most common protocols for drones is Mavlink.[^39]


It is important that we define the minimal set which provides coverage of general flying vehicles. This type of abstraction allows the greatest level of reusability of components between different systems. The goal of a standard message set is to define the things that are completely general, and let implementers define their own specializations for their specific systems.

> 重要的是我们定义一个最小的集合，以提供一般飞行器的覆盖范围。这种抽象允许不同系统之间的组件最大程度地重用。标准消息集的目标是定义完全通用的事物，让实施者为他们特定的系统定义自己的专业化。


As those specifications become more mature they can also be standardized as optional extensions to the defined interface. When using ROS messages these extensions will be discoverable and shareable to facilitate converging implementations.

> 随着这些规范变得更加成熟，它们也可以作为定义的接口的可选扩展标准化。当使用ROS消息时，这些扩展将可以发现和共享，以便促进实现的融合。


This section will provide a guide of suggested mappings of existing Mavlink messages to existing ROS messages outside the above minimal specification. This will be useful for users who are familiar with Mavlink or using a system with mavlink and need to bridge between systems.

> 这一节将提供一个建议的现有Mavlink消息到现有ROS消息的映射指南，这将对熟悉Mavlink或使用Mavlink系统并需要在系统之间桥接的用户有所帮助。


This is a departure from Mavlink where things needed to be fully defined in the spec or at least allocated out with negotiated message IDs so that messages didn't collide. Also the availability of topics allows the use of the same data structures for different purposes. For example there doesn't need to be three IMU messages to tell the different IMUs apart.

> 这是一个和Mavlink不同的离开，在Mavlink中，物品需要在规范中完全定义，或者至少通过协商的消息ID进行分配，以免消息发生冲突。此外，主题的可用性允许将相同的数据结构用于不同的目的。例如，不需要有三个IMU消息来区分不同的IMU。

This list has focused on getting coverage of[^40] it has been grouped into basic categories.

## Text Status Outputs


Code should use the ROS_CONSOLE or RCL status api to report status. This has infrastructure for enabling and setting verbosity levels at startup and runtime as well as changing them during runtime and has standard messages for remotely monitoring and controlling them.

> 代码应该使用ROS_CONSOLE或RCL状态API来报告状态。它具有在启动和运行时启用和设置详细级别的基础设施，以及在运行时更改它们，并具有用于远程监控和控制它们的标准消息。

- `STATUSTEXT`

## ROS Messages in REP 147

For quick reference the following mavlink messages are considered covered in the specification above.

### Position reporting


There are many position reporting methods defined in Mavlink. They are all variations on PoseWithCovarianceStamped with different relevant frame_ids.

> 在Mavlink中定义了许多位置报告方法，它们都是以不同的frame_ids为基础的PoseWithCovarianceStamped的变体。

- `LOCAL_POSITION_NED_SYSTEM_GLOBAL_O`
- `LOCAL_POSITION_NED_COV`
- `GLOBAL_POSITION_INT_COV`
- `ATTITUDE_QUATERNION_COV`
- `GLOBAL_POSITION_INT`
- `LOCAL_POSITION_NED`
- `ATTITUDE_QUATERNION`
- `ALTITUDE`

### Battery Status

Defined above.

- `BATTERY_STATUS`

### Position commands

These are all covered in the hierarchy of commands in REP 147

- `POSITION_TARGET_GLOBAL_INT`
- `SET_POSITION_TARGET_GLOBAL_INT`
- `POSITION_TARGET_LOCAL_NED`
- `SET_POSITION_TARGET_LOCAL_NED`
- `ATTITUDE_TARGET`
- `SET_ATTITUDE_TARGET`
- `MANUAL_SETPOINT`

### Generic Command


These should be behaviors that then output via the REP's hierarchy of command topics. Each node can have logic or parameters to react according to a behavior. It's no longer a global state of the system.

> 这些应该是通过REP的命令主题层次结构输出的行为。每个节点可以具有逻辑或参数，以根据行为做出反应。它不再是系统的全局状态。

- `COMMAND_ACK`
- `COMMAND_LONG`
- `COMMAND_INT`

## Generic Sensor Info

There are a lot of existing ROS messages in the sensor_msgs package[^41] that can be immediately reused in drones. A few examples are as follows.

- `DISTANCE_SENSOR` \-- `sensor_msgs/Range`[^42]
- `CAMERA_TRIGGER` \-- `std_srvs/Trigger`[^43]

- `OPTICAL_FLOW_RAD` \-- These could use a new message but I'd want it to be driven by an active user/developer. There might also be potential in existing vision_msgs TODO(tfoote)

> `OPTICAL_FLOW_RAD`--我希望它能够由活跃的用户/开发者驱动。也可能在现有的vision_msgs TODO（tfoote）中有潜力。
- `VISION_SPEED_ESTIMATE` \-- `geometry_msgs/TwistWithCovarianceStamped` on a specific topic.
- `VISION_POSITION_ESTIMATE` and GLOBAL_VISION_POSITION_ESTIMATE \-- `geometry_msgs/PoseWithCovarianceStamped` on a specific topic TODO(tfoote) link

## Image Transport


For transporting images and image streams it is recommended to use the \[image_transport system\]([http://wiki.ros.org/image_transport](http://wiki.ros.org/image_transport)) from ROS. It is capable of streaming raw as well as compressed image streams and selecting the mode at runtime. There is a plugin system to add support for different compressions and transports.

> 为了传输图像和图像流，建议使用ROS的[image_transport系统](http://wiki.ros.org/image_transport)。它能够流式传输原始图像流以及压缩图像流，并且可以在运行时选择模式。有一个插件系统可以添加不同的压缩和传输支持。

This would cover:

- `ENCAPSULATED_DATA`
- `DATA_TRANSMISSION_HANDSHAKE`

## Wind Information

`WIND_COV` is recommended to be represented by a `geometry_msgs/TwistWithCovarianceStamped` on a specific topic.

## Candidates for Future Porting

### Barometer


The absolute measurements can be captured by `sensor_msgs/FluidPressure` TODO LINK TODO A barometer message with the relative measurements would be a good extension.

> 绝对测量可以通过`sensor_msgs/FluidPressure` TODO LINK TODO 来捕获。使用相对测量的气压仪消息将是一个很好的扩展。

Related mesages are:

- `RAW_PRESSURE`
- `SCALED_PRESSURE`
- `SCALED_PRESSURE2`
- `SCALED_PRESSURE3`

### Custom High Level Summary


The message `HIGH_LATENCY` is a custom summary message for sending the state out. It's optimized for a specific use case with specific hardware. It can easily be directly ported, but is is recommended be broken down into a few different messages or composed of a few different messages forwarded over the high latency/low bandwidth link instead of defining a new datatype.

> 消息“HIGH_LATENCY”是一条用于发送状态的自定义摘要消息，它针对特定的硬件和使用场景进行了优化。它可以很容易地直接移植，但建议将它分解为几条不同的消息，或由几条不同的消息组成，通过高延迟/低带宽链路转发，而不是定义一种新的数据类型。

### Vibration Levels

This is uncaptured but is not documented well enough to define a message and is not a primary flight concern but more of a diagnostic.

- `VIBRATION`

## GPS Messsages


For GPS messages there already exists a \[NavSatFix\]([http://docs.ros.org/api/sensor_msgs/html/msg/NavSatFix.html](http://docs.ros.org/api/sensor_msgs/html/msg/NavSatFix.html)) and a \[NavSatStatus\]([http://docs.ros.org/melodic/api/sensor_msgs/html/msg/NavSatStatus.html](http://docs.ros.org/melodic/api/sensor_msgs/html/msg/NavSatStatus.html)) which are recommended for general GPS position information and status.

> 对于GPS消息，已经存在一个[NavSatFix](http://docs.ros.org/api/sensor_msgs/html/msg/NavSatFix.html)和一个[NavSatStatus](http://docs.ros.org/melodic/api/sensor_msgs/html/msg/NavSatStatus.html)，它们推荐用于通用GPS位置信息和状态。

- `GPS_STATUS`


There are also a bunch of raw and other specific data types that are potentially useful in Mavlink, but are moderately specific to the localization hardware. As such they would be better ported for specific hardware support packages and not considered fully standardized.

> 也有一堆原始数据和其他特定数据类型可能在Mavlink中有用，但是与本地化硬件相关联。因此，它们最好专门为特定的硬件支持包进行移植，而不是被完全标准化。

- `GPS_INPUT`
- `GPS_RTCM_DATA`
- `GPS2_RTK`
- `GPS_RTK`
- `GPS2_RAW`
- `GPS_INJECT_DATA`
- `GPS_GLOBAL_ORIGIN`
- `SET_GPS_GLOBAL_ORIGIN`
- `GPS_RAW_INT`

## IMU Messages


There are existing IMU messages that should be reused instead of defining new ones. [http://docs.ros.org/melodic/api/sensor_msgs/html/msg/Imu.html](http://docs.ros.org/melodic/api/sensor_msgs/html/msg/Imu.html) There's already a \[proposal upstream\]([https://github.com/ros/common_msgs/pull/101](https://github.com/ros/common_msgs/pull/101)) for improvements that we will plan to integrate with upper triangular covariance used in the PX4 stack.

> 有现有的IMU消息应该重用而不是定义新的消息。[http://docs.ros.org/melodic/api/sensor_msgs/html/msg/Imu.html](http://docs.ros.org/melodic/api/sensor_msgs/html/msg/Imu.html) 已经有一个[上游提案](https://github.com/ros/common_msgs/pull/101)，用于改进PX4堆栈中使用的上三角协方差，我们计划将其集成到提案中。

- `RAW_IMU`
- `HIGHRES_IMU`
- `SCALED_IMU`
- `SCALED_IMU2`
- `SCALED_IMU3`

## Custom Waypoint Logic


This is mostly encoding specific messages related to autopilot implementation behaviors. It is recommended to be caputred by a generic waypoint communicated on a specific topic or service instead of as a dedicated message.

> 这主要是与自动驾驶仪实施行为相关的编码特定消息。建议通过特定主题或服务传递通用航点，而不是作为专用消息。

- `SET_HOME_POSITION`
- `HOME_POSITION`
- `LANDING_TARGET`
- `FOLLOW_TARGET`

## Parameters

These messages can be replaced by using parameters on the nodes to set these values.

- `MESSAGE_INTERVAL`
- `SERIAL_CONTROL`

ROS provides parameters set and get services which can replace the below messages.

- `PARAM_SET`
- `PARAM_VALUE`
- `PARAM_REQUEST_LIST`
- `PARAM_REQUEST_READ`

## Data Logging


Logging and playback are recommended to be managed by rosbag. There are APIs already implemented for controlling recording remotely. There are not currently apis for downloading the data but that is likely better done using a standard file transfer mechanism than through a runtime behavior.

> 日志记录和回放建议由rosbag进行管理。已经实现了用于远程控制录制的API。目前尚无下载数据的API，但使用标准文件传输机制比通过运行时行为更好。

Related mavlink messages include:

- `LOG_REQUEST_END`
- `LOG_ERASE`
- `LOG_DATA`
- `LOG_REQUEST_DATA`
- `LOG_ENTRY`
- `LOG_REQUEST_LIST`
- `FILE_TRANSFER_PROTOCOL`

## Time

It is recommended to use the stadard ROS time abstraction.

- `SYSTEM_TIME`

## Connectivity Checks


There are many capabilities of DDS to check for livelyness and heartbeats built into the communication layer that can be leveraged. Also the `bond` libraries from ROS1 have heartbeat logic.

> 有许多DDS的功能可以检查活力和心跳，这些功能都集成在通信层中，可以利用它们。此外，ROS1中的`bond`库也具有心跳逻辑。

- `PING`
- `HEARTBEAT`


It is recommended that acknowlegement of message receipt be embedded into the communication layer using the reilable transport and callbacks if the message does not arrive.

> 建议在使用可靠传输和回调的情况下，将消息收到的确认嵌入到通信层中，如果消息没有到达。

- `COMMAND_ACK`

## Security


ROS2 using DDS\'s security extensions can provide cryptographically secure fine grained authentication, access control, and encryption. It is recommended to use that toolchain for security.

> ROS2使用DDS的安全扩展可以提供加密安全的细粒度身份验证、访问控制和加密。建议使用该工具链来实现安全。

- `AUTH_KEY`
- `CHANGE_OPERATOR_CONTROL`
- `CHANGE_OPERATOR_CONTROL_ACK`

## Skipped in the analysis

- `RESOURCE_REQUEST` not flight related
- `V2_EXTENSION` not clearly documented

## Debugging Outputs


These are generic data types that are defined to let the developer send basically anything over the network. Instead of shoehorning data into these few generic datatypes on a ROS based system, it is recommended that the developer define their own debug messages and send them along capturing exactly what they want with the appropriate datatypes or structures.

> 这些是定义的通用数据类型，可以让开发人员基本上可以通过网络发送任何内容。在基于ROS的系统中，不建议开发人员将数据强行放入这几种通用数据类型中，而是建议他们定义自己的调试消息，并将它们捕获到正确的数据类型或结构中。

- `DEBUG`
- `NAMED_VALUE_INT`
- `NAMED_VALUE_FLOAT`
- `DEBUG_VECT`
- `MEMORY_VECT`

## Messages that are not generic

### HITL Specific Messages


These are simulation specific messages that are specific to integrating the autopilot with simulation. The current messages are also specific to the autopilot implementation and not generic enough to necessarily use alternative autopilots.

> 这些是特定于集成自动驾驶仪与仿真的模拟特定消息。当前的消息也是特定于自动驾驶仪实现的，而不是足够通用的，以便可以使用其他自动驾驶仪。

- `HIL_STATE_QUATERNION`
- `HIL_OPTICAL_FLOW`
- `HIL_GPS`
- `HIL_SENSOR`
- `SIM_STATE`
- `HIL_ACTUATOR_CONTROLS`
- `HIL_RC_INPUTS_RAW`
- `HIL_CONTROLS`

### Hardware Specific Info

These mavlink messages are coupled directly to hardware and are not abstracted at an optimal level to be considered universal for all vehicles.

- `POWER_STATUS`
- `TIMESYNC`
- `RADIO_STATUS`

### Mocap Specific

These mocap systems can use generic position reports with covariance on a specific topic instead of needing a custom datatype.

- `ATT_POSE_MOCAP`
- `VICON_POSITION_ESTIMATE`

### Low Level Control

This is too low level for a good abstraction, it's not valid on all types of hardware.

- `SET_ACTUATOR_CONTROL_TARGET`
- `ACTUATOR_CONTROL_TARGET`
- `MANUAL_CONTROL`
- `RC_CHANNELS_OVERRIDE` Also overriding user commands
- `RC_CHANNELS`
- `PARAM_MAP_RC`

### Low Level Feedback

- `SERVO_OUTPUT_RAW`
- `RC_CHANNELS_RAW`
- `RC_CHANNELS_SCALED`

### Autopilot Version information

This can be captured as a parameter.

- `AUTOPILOT_VERSION`

### Display specific message


This is a specific message for displaying into a HUD, it's aggregating and duplicating existing data that doesn't need to be generally broadcast separately.

> 这是一条特定的信息，用于在HUD中显示，它聚合和复制已有的数据，无需单独广播。

- `VFR_HUD`

### Component specific debug Messages


This is a debug/status message that's specific to the current estimator desing. The parameters are not right for a particle filter based estimator or another style of implementation.

> 这是一条专门针对当前估计器设计的调试/状态消息。参数不适合基于粒子滤波器的估计器或其他实施方式。

- `ESTIMATOR_STATUS`


These are messages that can share the state of controllers but is only valid for specific controllers and thus not a good candidate for standardization.

> 这些是可以分享控制器状态的消息，但只适用于特定的控制器，因此不适合标准化。

- `CONTROL_SYSTEM_STATE`
- `NAV_CONTROLLER_OUTPUT`

### Mission Management


The current mission definitions are a basic set of primative behaviors. They are a significant subset of the capabilities of vehicles and those primatives should not be built into a next generation abstraction for drones. However that's not to say that the mission concept should be eliminated. Going forward the current mission structure is easy for operators to think about and that should be retained, but instead of considering the missions a standard interface for the drones. They should be parsed and simply generate the REP 147 compliant trajectory that the drone can follow. In the future this will allow the implementation to extend the mission waypoints types and add more complex logic into the missions and remain compatible with all drones.

> 当前的任务定义是一组基本的原始行为。它们是飞行器功能的重要子集，这些原始行为不应该被内置到下一代无人机抽象中。然而，这并不意味着任务概念应该被淘汰。今后，当前的任务结构对于操作者来说很容易思考，应该保留下来，但是不应该把任务作为无人机的标准接口。它们应该被解析，并简单地生成符合REP 147标准的轨迹，让无人机可以遵循。在未来，这将允许实施扩展任务航点类型，并将更复杂的逻辑添加到任务中，并与所有无人机保持兼容。

- `MISSION_ITEM_INT`
- `MISSION_REQUEST_INT`
- `MISSION_ACK`
- `MISSION_ITEM_REACHED`
- `MISSION_CLEAR_ALL`
- `MISSION_COUNT`
- `MISSION_REQUEST_LIST`
- `MISSION_CURRENT`
- `MISSION_SET_CURRENT`
- `MISSION_REQUEST`
- `MISSION_ITEM`
- `MISSION_WRITE_PARTIAL_LIST`
- `MISSION_REQUEST_PARTIAL_LIST`

### VTOL Specific State


This is a very hardware specific message that was added for a specific hardware type. This is a good example of an extension that was required because the standard was not abstract enough.

> 这是一条针对特定硬件类型添加的非常特定的消息。这是一个很好的扩展示例，因为标准不够抽象。

- `EXTENDED_SYS_STATE`

### Collision Information

These collision messages are customized to a specific implementation and do no generalize.

- `COLLISION`
- `ADSB_VEHICLE`
- `TERRAIN_DATA`
- `TERRAIN_CHECK`
- `TERRAIN_REPORT`
- `SAFETY_ALLOWED_AREA`
- `SAFETY_SET_ALLOWED_AREA`

# Summary

## Existing interfaces

> - Battery State via `sensor_msgs/BatteryState`[^44]
> - Trajectory via `trajectory_msgs/MultiDOFJointTrajectory`[^45]
> - Rates via `mav_msgs/RollPitchYawrateThrust`[^46] or `mav_msgs/AttitudeThrust`[^47]
> - Accelerations via `mav_msgs/RateThrust`[^48]
> - Obstacle information from common `sensor_msgs`[^49]
> - Odometry via `nav_msgs/Odometry`[^50]

Proposed New Interfaces

> - Extended Odometry via proposed `nav_msgs/OdometryWithAcceleration` \[propoised\]

# References

# Copyright

This document has been placed in the public domain.

#### 

> Local Variables: mode: indented-text indent-tabs-mode: nil sentence-end-double-space: t fill-column: 70 coding: utf-8 End:

[^1]: astec_mav_framework ([http://wiki.ros.org/asctec_mav_framework](http://wiki.ros.org/asctec_mav_framework))


[^2]: autopilot_bridge ([https://github.com/mikeclement/autopilot_bridge](https://github.com/mikeclement/autopilot_bridge))


[^3]: CRATES ([https://bitbucket.org/asymingt/crates](https://bitbucket.org/asymingt/crates))



[^4]: dji_sdk_dji2ros ([http://www.ros.org/browse/details.php?distro=indigo&name=dji_sdk_dji2mav](http://www.ros.org/browse/details.php?distro=indigo&name=dji_sdk_dji2mav))

> [^4]: dji_sdk_dji2ros（[http://www.ros.org/browse/details.php?distro=indigo&name=dji_sdk_dji2mav](http://www.ros.org/browse/details.php?distro=indigo&name=dji_sdk_dji2mav)）


[^5]: dji_sdk ([http://wiki.ros.org/dji_sdk](http://wiki.ros.org/dji_sdk))


[^6]: hector_quadrotor ([http://wiki.ros.org/hector_quadrotor](http://wiki.ros.org/hector_quadrotor))


[^7]: mav_tools ([http://wiki.ros.org/mav_tools](http://wiki.ros.org/mav_tools))


[^8]: mavlink2ros ([https://github.com/posilva/mav2rosgenerator](https://github.com/posilva/mav2rosgenerator))


[^9]: mavros ([http://wiki.ros.org/mavros](http://wiki.ros.org/mavros))


[^10]: roscopter ([https://code.google.com/p/roscopter/](https://code.google.com/p/roscopter/))


[^11]: rospilot ([http://wiki.ros.org/rospilot](http://wiki.ros.org/rospilot))


[^12]: DroneKit ([http://dronekit.io/](http://dronekit.io/))


[^13]: mav_msgs ([http://wiki.ros.org/mav_msgs](http://wiki.ros.org/mav_msgs))


[^14]: Mavlink ([https://mavlink.io/en/](https://mavlink.io/en/))



[^15]: Mavlink2 ([https://github.com/diydrones/mavlink/blob/mavlink2-wip/doc/MAVLink2.md](https://github.com/diydrones/mavlink/blob/mavlink2-wip/doc/MAVLink2.md))

> [^15]：Mavlink2（[https://github.com/diydrones/mavlink/blob/mavlink2-wip/doc/MAVLink2.md](https://github.com/diydrones/mavlink/blob/mavlink2-wip/doc/MAVLink2.md)）


[^16]: mavros ([http://wiki.ros.org/mavros](http://wiki.ros.org/mavros))


[^17]: nav_msgs ([http://wiki.ros.org/nav_msgs](http://wiki.ros.org/nav_msgs))


[^18]: trajectory_msgs ([http://wiki.ros.org/trajectory_msgs](http://wiki.ros.org/trajectory_msgs))


[^19]: REP 105: Coordinate Frames for Mobile Platforms ([http://www.ros.org/reps/rep-0105.html](http://www.ros.org/reps/rep-0105.html))



[^20]: ([http://docs.ros.org/api/trajectory_msgs/html/msg/MultiDOFJointTrajectory.html](http://docs.ros.org/api/trajectory_msgs/html/msg/MultiDOFJointTrajectory.html))

> [^20]:（[http://docs.ros.org/api/trajectory_msgs/html/msg/MultiDOFJointTrajectory.html](http://docs.ros.org/api/trajectory_msgs/html/msg/MultiDOFJointTrajectory.html)）多关节轨迹消息



[^21]: ([http://docs.ros.org/api/trajectory_msgs/html/msg/MultiDOFJointTrajectory.html](http://docs.ros.org/api/trajectory_msgs/html/msg/MultiDOFJointTrajectory.html))

> [^21]:（[http://docs.ros.org/api/trajectory_msgs/html/msg/MultiDOFJointTrajectory.html](http://docs.ros.org/api/trajectory_msgs/html/msg/MultiDOFJointTrajectory.html)）多关节轨迹消息。


[^22]: ([http://docs.ros.org/api/geometry_msgs/html/msg/PoseStamped.html](http://docs.ros.org/api/geometry_msgs/html/msg/PoseStamped.html))


[^23]: ([http://docs.ros.org/api/geometry_msgs/html/msg/PoseStamped.html](http://docs.ros.org/api/geometry_msgs/html/msg/PoseStamped.html))



[^24]: geometry_msgs/TwistStamped ([http://docs.ros.org/api/geometry_msgs/html/msg/TwistStamped.html](http://docs.ros.org/api/geometry_msgs/html/msg/TwistStamped.html))

> [^24]: geometry_msgs/TwistStamped（[http://docs.ros.org/api/geometry_msgs/html/msg/TwistStamped.html](http://docs.ros.org/api/geometry_msgs/html/msg/TwistStamped.html)）



[^25]: geometry_msgs/TwistStamped ([http://docs.ros.org/api/geometry_msgs/html/msg/TwistStamped.html](http://docs.ros.org/api/geometry_msgs/html/msg/TwistStamped.html))

> [^25]: geometry_msgs/TwistStamped（[http://docs.ros.org/api/geometry_msgs/html/msg/TwistStamped.html](http://docs.ros.org/api/geometry_msgs/html/msg/TwistStamped.html)）


[^26]: geometry_msgs/Twist ([http://docs.ros.org/api/geometry_msgs/html/msg/Twist.html](http://docs.ros.org/api/geometry_msgs/html/msg/Twist.html))



[^27]: mav_msgs/AttitudeThrust ([http://docs.ros.org/jade/api/mav_msgs/html/msg/AttitudeThrust.html](http://docs.ros.org/jade/api/mav_msgs/html/msg/AttitudeThrust.html))

> [^27]: mav_msgs/AttitudeThrust（[http://docs.ros.org/jade/api/mav_msgs/html/msg/AttitudeThrust.html](http://docs.ros.org/jade/api/mav_msgs/html/msg/AttitudeThrust.html)）
简体中文：mav_msgs/姿态推力（[http://docs.ros.org/jade/api/mav_msgs/html/msg/AttitudeThrust.html](http://docs.ros.org/jade/api/mav_msgs/html/msg/AttitudeThrust.html)）



[^28]: mav_msgs/RollPitchYawrateThrust ([http://docs.ros.org/indigo/api/mav_msgs/html/msg/RollPitchYawrateThrust.html](http://docs.ros.org/indigo/api/mav_msgs/html/msg/RollPitchYawrateThrust.html))

> [^28]: mav_msgs/RollPitchYawrateThrust（[http://docs.ros.org/indigo/api/mav_msgs/html/msg/RollPitchYawrateThrust.html](http://docs.ros.org/indigo/api/mav_msgs/html/msg/RollPitchYawrateThrust.html)）

[^28]: mav_msgs/滚转俯仰角速率推力（[http://docs.ros.org/indigo/api/mav_msgs/html/msg/RollPitchYawrateThrust.html](http://docs.ros.org/indigo/api/mav_msgs/html/msg/RollPitchYawrateThrust.html)）



[^29]: geometry_msgs/TwistStamped ([http://docs.ros.org/api/geometry_msgs/html/msg/TwistStamped.html](http://docs.ros.org/api/geometry_msgs/html/msg/TwistStamped.html))

> [^29]: geometry_msgs/TwistStamped（[http://docs.ros.org/api/geometry_msgs/html/msg/TwistStamped.html](http://docs.ros.org/api/geometry_msgs/html/msg/TwistStamped.html)）



[^30]: geometry_msgs/TwistStamped ([http://docs.ros.org/api/geometry_msgs/html/msg/TwistStamped.html](http://docs.ros.org/api/geometry_msgs/html/msg/TwistStamped.html))

> [^30]: geometry_msgs/TwistStamped（[http://docs.ros.org/api/geometry_msgs/html/msg/TwistStamped.html](http://docs.ros.org/api/geometry_msgs/html/msg/TwistStamped.html)）



[^31]: mav_msgs/RateThrust ([http://docs.ros.org/jade/api/mav_msgs/html/msg/RateThrust.html](http://docs.ros.org/jade/api/mav_msgs/html/msg/RateThrust.html))

> [^31]: mav_msgs/RateThrust（[http://docs.ros.org/jade/api/mav_msgs/html/msg/RateThrust.html](http://docs.ros.org/jade/api/mav_msgs/html/msg/RateThrust.html)））
简体中文：mav_msgs/RateThrust（[http://docs.ros.org/jade/api/mav_msgs/html/msg/RateThrust.html](http://docs.ros.org/jade/api/mav_msgs/html/msg/RateThrust.html)）


[^32]: odometry ([http://www.ros.org/doc/api/nav_msgs/html/msg/Odometry.html](http://www.ros.org/doc/api/nav_msgs/html/msg/Odometry.html))


[^33]: odometry ([http://www.ros.org/doc/api/nav_msgs/html/msg/Odometry.html](http://www.ros.org/doc/api/nav_msgs/html/msg/Odometry.html))


[^34]: ([http://wiki.ros.org/sensor_msgs](http://wiki.ros.org/sensor_msgs))


[^35]: Mavlink Mission protocol ([https://mavlink.io/en/services/mission.html](https://mavlink.io/en/services/mission.html))



[^36]: sensor_msgs/BatteryState ([http://docs.ros.org/api/sensor_msgs/html/msg/BatteryState.html](http://docs.ros.org/api/sensor_msgs/html/msg/BatteryState.html))

> [^36]: sensor_msgs/BatteryState（[http://docs.ros.org/api/sensor_msgs/html/msg/BatteryState.html](http://docs.ros.org/api/sensor_msgs/html/msg/BatteryState.html)））简体中文



[^37]: sensor_msgs/BatteryState ([http://docs.ros.org/api/sensor_msgs/html/msg/BatteryState.html](http://docs.ros.org/api/sensor_msgs/html/msg/BatteryState.html))

> [^37]: sensor_msgs/BatteryState（[http://docs.ros.org/api/sensor_msgs/html/msg/BatteryState.html](http://docs.ros.org/api/sensor_msgs/html/msg/BatteryState.html)）


[^38]: PX4 Flight Modes ([https://dev.px4.io/en/concept/flight_modes.html](https://dev.px4.io/en/concept/flight_modes.html))


[^39]: Mavlink ([https://mavlink.io/en/](https://mavlink.io/en/))


[^40]: Mavlink Common.xml ([https://mavlink.io/en/messages/common.html](https://mavlink.io/en/messages/common.html))


[^41]: ([http://wiki.ros.org/sensor_msgs](http://wiki.ros.org/sensor_msgs))



[^42]: `sensor_msgs/Range` ([http://docs.ros.org/melodic/api/sensor_msgs/html/msg/Range.html](http://docs.ros.org/melodic/api/sensor_msgs/html/msg/Range.html))

> [^42]: 传感器消息/范围（http://docs.ros.org/melodic/api/sensor_msgs/html/msg/Range.html）



[^43]: `std_srvs/Trigger` ([http://docs.ros.org/melodic/api/std_srvs/html/srv/Trigger.html](http://docs.ros.org/melodic/api/std_srvs/html/srv/Trigger.html))

> [^43]: `std_srvs/Trigger` ([http://docs.ros.org/melodic/api/std_srvs/html/srv/Trigger.html](http://docs.ros.org/melodic/api/std_srvs/html/srv/Trigger.html))：触发（[http://docs.ros.org/melodic/api/std_srvs/html/srv/Trigger.html](http://docs.ros.org/melodic/api/std_srvs/html/srv/Trigger.html)）



[^44]: sensor_msgs/BatteryState ([http://docs.ros.org/api/sensor_msgs/html/msg/BatteryState.html](http://docs.ros.org/api/sensor_msgs/html/msg/BatteryState.html))

> [^44]: sensor_msgs/BatteryState（[http://docs.ros.org/api/sensor_msgs/html/msg/BatteryState.html](http://docs.ros.org/api/sensor_msgs/html/msg/BatteryState.html)）



[^45]: ([http://docs.ros.org/api/trajectory_msgs/html/msg/MultiDOFJointTrajectory.html](http://docs.ros.org/api/trajectory_msgs/html/msg/MultiDOFJointTrajectory.html))

> [^45]:（[http://docs.ros.org/api/trajectory_msgs/html/msg/MultiDOFJointTrajectory.html](http://docs.ros.org/api/trajectory_msgs/html/msg/MultiDOFJointTrajectory.html)）多关节轨迹消息



[^46]: mav_msgs/RollPitchYawrateThrust ([http://docs.ros.org/indigo/api/mav_msgs/html/msg/RollPitchYawrateThrust.html](http://docs.ros.org/indigo/api/mav_msgs/html/msg/RollPitchYawrateThrust.html))

> [^46]: mav_msgs/RollPitchYawrateThrust（[http://docs.ros.org/indigo/api/mav_msgs/html/msg/RollPitchYawrateThrust.html](http://docs.ros.org/indigo/api/mav_msgs/html/msg/RollPitchYawrateThrust.html)） 
简体中文：mav_msgs/滚转俯仰角速率推力（[http://docs.ros.org/indigo/api/mav_msgs/html/msg/RollPitchYawrateThrust.html](http://docs.ros.org/indigo/api/mav_msgs/html/msg/RollPitchYawrateThrust.html)）



[^47]: mav_msgs/AttitudeThrust ([http://docs.ros.org/jade/api/mav_msgs/html/msg/AttitudeThrust.html](http://docs.ros.org/jade/api/mav_msgs/html/msg/AttitudeThrust.html))

> [^47]: mav_msgs/AttitudeThrust ([http://docs.ros.org/jade/api/mav_msgs/html/msg/AttitudeThrust.html](http://docs.ros.org/jade/api/mav_msgs/html/msg/AttitudeThrust.html))
简体中文：mav_msgs/姿态推力（[http://docs.ros.org/jade/api/mav_msgs/html/msg/AttitudeThrust.html](http://docs.ros.org/jade/api/mav_msgs/html/msg/AttitudeThrust.html)）



[^48]: mav_msgs/RateThrust ([http://docs.ros.org/jade/api/mav_msgs/html/msg/RateThrust.html](http://docs.ros.org/jade/api/mav_msgs/html/msg/RateThrust.html))

> [^48]: mav_msgs/RateThrust（[http://docs.ros.org/jade/api/mav_msgs/html/msg/RateThrust.html](http://docs.ros.org/jade/api/mav_msgs/html/msg/RateThrust.html)），简体中文：mav_msgs/推力率（[http://docs.ros.org/jade/api/mav_msgs/html/msg/RateThrust.html](http://docs.ros.org/jade/api/mav_msgs/html/msg/RateThrust.html)）


[^49]: ([http://wiki.ros.org/sensor_msgs](http://wiki.ros.org/sensor_msgs))


[^50]: odometry ([http://www.ros.org/doc/api/nav_msgs/html/msg/Odometry.html](http://www.ros.org/doc/api/nav_msgs/html/msg/Odometry.html))
